<!DOCTYPE html><html class="" lang="en"><head><!-- Google Tag Manager -->
<script async="" src="https://www.googletagmanager.com/gtm.js?id=GTM-NLGDMK5"></script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NLGDMK5');</script>
<!-- End Google Tag Manager -->
<meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/">
<meta property="og:title" content="Tutorial: Intro to BentoML">
<meta property="og:type" content="website">
<meta property="og:url" content="http://docs.bentoml.org/tutorial.html">
<meta property="og:site_name" content="BentoML Documentation">
<meta property="og:description" content="time expected: 10 minutes In this tutorial, we will focus on online model serving with BentoML, using a classification model trained with scikit-learn and the Iris dataset. By the end of this tutor...">
<meta property="og:image" content="https://docs.bentoml.org/en/latest/_images/bentoml-banner.png">
<meta property="og:image:alt" content="BentoML Documentation">
<meta name="description" content="time expected: 10 minutes In this tutorial, we will focus on online model serving with BentoML, using a classification model trained with scikit-learn and the Iris dataset. By the end of this tutor...">
<link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="Main Concepts" href="concepts/index.html"><link rel="prev" title="Installation" href="installation.html">
        <link rel="canonical" href="https://docs.bentoml.org/en/latest/tutorial.html">

    <link rel="shortcut icon" href="_static/favicon-96x96.ico"><!-- Generated with Sphinx 5.3.0 and Furo 2023.03.27 -->
<script>
window.Papercups = {
    config: {
        // Pass in your Papercups account token here after signing up
        accountId: '25ad5fd9-293b-4e0f-9601-5b0cd7846b48',
        token: '25ad5fd9-293b-4e0f-9601-5b0cd7846b48',
        inbox: 'ac3ebd50-fc10-4299-9a1c-496841b49a6f',
        title: 'Welcome to BentoML!',
        subtitle: 'Ask us anything in the chat window below 😊',
        // newMessagePlaceholder: 'Start typing...',
        primaryColor: '#47AFD1',
        // Optionally pass in a default greeting
        greeting: "Hi there! How can I help you? If we couldn't get back to you in " +
                "time, feel free to join our community on slack and post your " +
                "question in the #support channel: https://l.linklyhq.com/l/ktOX",
        // Optionally pass in metadata to identify the customer
        // customer: {
        //   name: 'Test User',
        //   email: 'test@test.com',
        //   external_id: '123',
        //   metadata: {version: 1, plan: 'premium'}, // Custom fields go here
        // },
        // Optionally specify the base URL
        baseUrl: 'https://yatai-community-papercups.herokuapp.com',
        // Add this if you want to require the customer to enter
        // their email before being able to send you a message
        requireEmailUpfront: true,
        // Add this if you want to indicate when you/your agents
        // are online or offline to your customers
        showAgentAvailability: true,
    },
};
</script>
<script type="text/javascript" async="" defer="" src="https://app.papercups.io/widget.js"></script>

        <title>Tutorial: Intro to BentoML - BentoML</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css">
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53">
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css">
    <link rel="stylesheet" type="text/css" href="_static/tabs.css">
    <link rel="stylesheet" type="text/css" href="_static/css/tooltipster.custom.css">
    <link rel="stylesheet" type="text/css" href="_static/css/tooltipster.bundle.min.css">
    <link rel="stylesheet" type="text/css" href="_static/css/tooltipster-sideTip-shadow.min.css">
    <link rel="stylesheet" type="text/css" href="_static/css/tooltipster-sideTip-punk.min.css">
    <link rel="stylesheet" type="text/css" href="_static/css/tooltipster-sideTip-noir.min.css">
    <link rel="stylesheet" type="text/css" href="_static/css/tooltipster-sideTip-light.min.css">
    <link rel="stylesheet" type="text/css" href="_static/css/tooltipster-sideTip-borderless.min.css">
    <link rel="stylesheet" type="text/css" href="_static/css/micromodal.css">
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css">
    <link rel="stylesheet" type="text/css" href="/_/static/css/badge_only.css">
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e">
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css">
    
    


<style>
  body {
    --color-code-background: #3f3f3f;
  --color-code-foreground: #dcdccc;
  --color-brand-primary: #44a4c6 ;
  --color-brand-content: #44a4c6 ;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #c9378a ;
  --color-brand-content: #c9378a ;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #c9378a ;
  --color-brand-content: #c9378a ;
  
      }
    }
  }
</style>
<!-- RTD Extra Head -->

<link rel="stylesheet" href="/_/static/css/readthedocs-doc-embed.css" type="text/css">

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": true, "api_host": "https://readthedocs.org", "build_date": "2023-03-27T14:27:46Z", "builder": "sphinx", "canonical_url": null, "commit": "6b4da8fe", "docroot": "/docs/source/", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "tutorial", "programming_language": "py", "project": "bentoml", "proxied_api_host": "/_", "source_suffix": ".rst", "subprojects": {"yatai": "https://docs.bentoml.org/projects/yatai/en/latest/"}, "theme": "furo", "user_analytics_code": "UA-112879361-4", "version": "latest"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="/_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
<script src="https://www.googletagmanager.com/gtag/js?id=UA-17997319-1" type="text/javascript" async=""></script><style type="text/css">.CtxtMenu_InfoClose {  top:.2em; right:.2em;}
.CtxtMenu_InfoContent {  overflow:auto; text-align:left; font-size:80%;  padding:.4em .6em; border:1px inset; margin:1em 0px;  max-height:20em; max-width:30em; background-color:#EEEEEE;  white-space:normal;}
.CtxtMenu_Info.CtxtMenu_MousePost {outline:none;}
.CtxtMenu_Info {  position:fixed; left:50%; width:auto; text-align:center;  border:3px outset; padding:1em 2em; background-color:#DDDDDD;  color:black;  cursor:default; font-family:message-box; font-size:120%;  font-style:normal; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 15px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius:15px;               /* Safari and Chrome */  -moz-border-radius:15px;                  /* Firefox */  -khtml-border-radius:15px;                /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */  filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color="gray", Positive="true"); /* IE */}
</style><style type="text/css">.CtxtMenu_MenuClose {  position:absolute;  cursor:pointer;  display:inline-block;  border:2px solid #AAA;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  font-family: "Courier New", Courier;  font-size:24px;  color:#F0F0F0}
.CtxtMenu_MenuClose span {  display:block; background-color:#AAA; border:1.5px solid;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  line-height:0;  padding:8px 0 6px     /* may need to be browser-specific */}
.CtxtMenu_MenuClose:hover {  color:white!important;  border:2px solid #CCC!important}
.CtxtMenu_MenuClose:hover span {  background-color:#CCC!important}
.CtxtMenu_MenuClose:hover:focus {  outline:none}
</style><style type="text/css">.CtxtMenu_Menu {  position:absolute;  background-color:white;  color:black;  width:auto; padding:5px 0px;  border:1px solid #CCCCCC; margin:0; cursor:default;  font: menu; text-align:left; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 5px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius: 5px;             /* Safari and Chrome */  -moz-border-radius: 5px;                /* Firefox */  -khtml-border-radius: 5px;              /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */}
.CtxtMenu_MenuItem {  padding: 1px 2em;  background:transparent;}
.CtxtMenu_MenuArrow {  position:absolute; right:.5em; padding-top:.25em; color:#666666;  font-family: null; font-size: .75em}
.CtxtMenu_MenuActive .CtxtMenu_MenuArrow {color:white}
.CtxtMenu_MenuArrow.CtxtMenu_RTL {left:.5em; right:auto}
.CtxtMenu_MenuCheck {  position:absolute; left:.7em;  font-family: null}
.CtxtMenu_MenuCheck.CtxtMenu_RTL { right:.7em; left:auto }
.CtxtMenu_MenuRadioCheck {  position:absolute; left: .7em;}
.CtxtMenu_MenuRadioCheck.CtxtMenu_RTL {  right: .7em; left:auto}
.CtxtMenu_MenuInputBox {  padding-left: 1em; right:.5em; color:#666666;  font-family: null;}
.CtxtMenu_MenuInputBox.CtxtMenu_RTL {  left: .1em;}
.CtxtMenu_MenuComboBox {  left:.1em; padding-bottom:.5em;}
.CtxtMenu_MenuSlider {  left: .1em;}
.CtxtMenu_SliderValue {  position:absolute; right:.1em; padding-top:.25em; color:#333333;  font-size: .75em}
.CtxtMenu_SliderBar {  outline: none; background: #d3d3d3}
.CtxtMenu_MenuLabel {  padding: 1px 2em 3px 1.33em;  font-style:italic}
.CtxtMenu_MenuRule {  border-top: 1px solid #DDDDDD;  margin: 4px 3px;}
.CtxtMenu_MenuDisabled {  color:GrayText}
.CtxtMenu_MenuActive {  background-color: #606872;  color: white;}
.CtxtMenu_MenuDisabled:focus {  background-color: #E8E8E8}
.CtxtMenu_MenuLabel:focus {  background-color: #E8E8E8}
.CtxtMenu_ContextMenu:focus {  outline:none}
.CtxtMenu_ContextMenu .CtxtMenu_MenuItem:focus {  outline:none}
.CtxtMenu_SelectionMenu {  position:relative; float:left;  border-bottom: none; -webkit-box-shadow:none; -webkit-border-radius:0px; }
.CtxtMenu_SelectionItem {  padding-right: 1em;}
.CtxtMenu_Selection {  right: 40%; width:50%; }
.CtxtMenu_SelectionBox {  padding: 0em; max-height:20em; max-width: none;  background-color:#FFFFFF;}
.CtxtMenu_SelectionDivider {  clear: both; border-top: 2px solid #000000;}
.CtxtMenu_Menu .CtxtMenu_MenuClose {  top:-10px; left:-10px}
</style><style id="MJX-CHTML-styles">
mjx-container[jax="CHTML"] {
  line-height: 0;
}

mjx-container [space="1"] {
  margin-left: .111em;
}

mjx-container [space="2"] {
  margin-left: .167em;
}

mjx-container [space="3"] {
  margin-left: .222em;
}

mjx-container [space="4"] {
  margin-left: .278em;
}

mjx-container [space="5"] {
  margin-left: .333em;
}

mjx-container [rspace="1"] {
  margin-right: .111em;
}

mjx-container [rspace="2"] {
  margin-right: .167em;
}

mjx-container [rspace="3"] {
  margin-right: .222em;
}

mjx-container [rspace="4"] {
  margin-right: .278em;
}

mjx-container [rspace="5"] {
  margin-right: .333em;
}

mjx-container [size="s"] {
  font-size: 70.7%;
}

mjx-container [size="ss"] {
  font-size: 50%;
}

mjx-container [size="Tn"] {
  font-size: 60%;
}

mjx-container [size="sm"] {
  font-size: 85%;
}

mjx-container [size="lg"] {
  font-size: 120%;
}

mjx-container [size="Lg"] {
  font-size: 144%;
}

mjx-container [size="LG"] {
  font-size: 173%;
}

mjx-container [size="hg"] {
  font-size: 207%;
}

mjx-container [size="HG"] {
  font-size: 249%;
}

mjx-container [width="full"] {
  width: 100%;
}

mjx-box {
  display: inline-block;
}

mjx-block {
  display: block;
}

mjx-itable {
  display: inline-table;
}

mjx-row {
  display: table-row;
}

mjx-row > * {
  display: table-cell;
}

mjx-mtext {
  display: inline-block;
}

mjx-mstyle {
  display: inline-block;
}

mjx-merror {
  display: inline-block;
  color: red;
  background-color: yellow;
}

mjx-mphantom {
  visibility: hidden;
}

_::-webkit-full-page-media, _:future, :root mjx-container {
  will-change: opacity;
}

mjx-assistive-mml {
  position: absolute !important;
  top: 0px;
  left: 0px;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 1px 0px 0px 0px !important;
  border: 0px !important;
  display: block !important;
  width: auto !important;
  overflow: hidden !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

mjx-assistive-mml[display="block"] {
  width: 100% !important;
}

mjx-c::before {
  display: block;
  width: 0;
}

.MJX-TEX {
  font-family: MJXZERO, MJXTEX;
}

.TEX-B {
  font-family: MJXZERO, MJXTEX-B;
}

.TEX-I {
  font-family: MJXZERO, MJXTEX-I;
}

.TEX-MI {
  font-family: MJXZERO, MJXTEX-MI;
}

.TEX-BI {
  font-family: MJXZERO, MJXTEX-BI;
}

.TEX-S1 {
  font-family: MJXZERO, MJXTEX-S1;
}

.TEX-S2 {
  font-family: MJXZERO, MJXTEX-S2;
}

.TEX-S3 {
  font-family: MJXZERO, MJXTEX-S3;
}

.TEX-S4 {
  font-family: MJXZERO, MJXTEX-S4;
}

.TEX-A {
  font-family: MJXZERO, MJXTEX-A;
}

.TEX-C {
  font-family: MJXZERO, MJXTEX-C;
}

.TEX-CB {
  font-family: MJXZERO, MJXTEX-CB;
}

.TEX-FR {
  font-family: MJXZERO, MJXTEX-FR;
}

.TEX-FRB {
  font-family: MJXZERO, MJXTEX-FRB;
}

.TEX-SS {
  font-family: MJXZERO, MJXTEX-SS;
}

.TEX-SSB {
  font-family: MJXZERO, MJXTEX-SSB;
}

.TEX-SSI {
  font-family: MJXZERO, MJXTEX-SSI;
}

.TEX-SC {
  font-family: MJXZERO, MJXTEX-SC;
}

.TEX-T {
  font-family: MJXZERO, MJXTEX-T;
}

.TEX-V {
  font-family: MJXZERO, MJXTEX-V;
}

.TEX-VB {
  font-family: MJXZERO, MJXTEX-VB;
}

mjx-stretchy-v mjx-c, mjx-stretchy-h mjx-c {
  font-family: MJXZERO, MJXTEX-S1, MJXTEX-S4, MJXTEX, MJXTEX-A ! important;
}

@font-face /* 0 */ {
  font-family: MJXZERO;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Zero.woff") format("woff");
}

@font-face /* 1 */ {
  font-family: MJXTEX;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff") format("woff");
}

@font-face /* 2 */ {
  font-family: MJXTEX-B;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Bold.woff") format("woff");
}

@font-face /* 3 */ {
  font-family: MJXTEX-I;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff") format("woff");
}

@font-face /* 4 */ {
  font-family: MJXTEX-MI;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Italic.woff") format("woff");
}

@font-face /* 5 */ {
  font-family: MJXTEX-BI;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Math-BoldItalic.woff") format("woff");
}

@font-face /* 6 */ {
  font-family: MJXTEX-S1;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size1-Regular.woff") format("woff");
}

@font-face /* 7 */ {
  font-family: MJXTEX-S2;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size2-Regular.woff") format("woff");
}

@font-face /* 8 */ {
  font-family: MJXTEX-S3;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size3-Regular.woff") format("woff");
}

@font-face /* 9 */ {
  font-family: MJXTEX-S4;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size4-Regular.woff") format("woff");
}

@font-face /* 10 */ {
  font-family: MJXTEX-A;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_AMS-Regular.woff") format("woff");
}

@font-face /* 11 */ {
  font-family: MJXTEX-C;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Regular.woff") format("woff");
}

@font-face /* 12 */ {
  font-family: MJXTEX-CB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Bold.woff") format("woff");
}

@font-face /* 13 */ {
  font-family: MJXTEX-FR;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Fraktur-Regular.woff") format("woff");
}

@font-face /* 14 */ {
  font-family: MJXTEX-FRB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Fraktur-Bold.woff") format("woff");
}

@font-face /* 15 */ {
  font-family: MJXTEX-SS;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Regular.woff") format("woff");
}

@font-face /* 16 */ {
  font-family: MJXTEX-SSB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Bold.woff") format("woff");
}

@font-face /* 17 */ {
  font-family: MJXTEX-SSI;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Italic.woff") format("woff");
}

@font-face /* 18 */ {
  font-family: MJXTEX-SC;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Script-Regular.woff") format("woff");
}

@font-face /* 19 */ {
  font-family: MJXTEX-T;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Typewriter-Regular.woff") format("woff");
}

@font-face /* 20 */ {
  font-family: MJXTEX-V;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Vector-Regular.woff") format("woff");
}

@font-face /* 21 */ {
  font-family: MJXTEX-VB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Vector-Bold.woff") format("woff");
}
</style></head>
  <body data-theme="auto">
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NLGDMK5"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    


<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"></path>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <circle cx="12" cy="12" r="9"></circle>
      <path d="M13 12h5"></path>
      <path d="M13 15h4"></path>
      <path d="M13 18h1"></path>
      <path d="M13 9h4"></path>
      <path d="M13 6h1"></path>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">BentoML</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/logo.svg" alt="Logo">
  </div>
  
  <span class="sidebar-brand-text">BentoML</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Tutorial: Intro to BentoML</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="concepts/index.html">Main Concepts</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="concepts/model.html">Preparing Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts/service.html">Service and APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts/bento.html">Building Bentos</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts/runner.html">Using Runners</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts/deploy.html">Deploying Bento</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="frameworks/index.html">Framework Guides</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="frameworks/catboost.html">CatBoost</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/fastai.html">fast.ai</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/keras.html">Keras</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/lightgbm.html">LightGBM</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/onnx.html">ONNX</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/picklable.html">Picklable Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/pytorch.html">PyTorch</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/pytorch_lightning.html">PyTorch Lightning</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/sklearn.html">Scikit-Learn</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/tensorflow.html">TensorFlow</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/transformers.html">Transformers</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/xgboost.html">XGBoost</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="guides/index.html">Advanced Guides</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="guides/batching.html">Adaptive Batching</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/containerization.html">Advanced Containerization</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/client.html">Bento Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/server.html">Bento Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/envmanager.html">Environment Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/graph.html">Inference Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/monitoring.html">Inference Data Collection &amp; Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/metrics.html">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/performance.html">Performance Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/grpc.html">Serving with gRPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/gpu.html">Serving with GPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/tracing.html">Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="guides/migration.html">1.0 Migration Guide</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="integrations/index.html">Integrations</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="integrations/airflow.html">Airflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="integrations/arize.html">Arize AI</a></li>
<li class="toctree-l2"><a class="reference internal" href="integrations/flink.html">Flink</a></li>
<li class="toctree-l2"><a class="reference internal" href="integrations/kubeflow.html">Kubeflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="integrations/mlflow.html">MLflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="integrations/spark.html">Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="integrations/triton.html">Triton Inference Server</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="reference/index.html">API Reference</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="reference/core.html">Core Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/stores.html">Bento Store APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/api_io_descriptors.html">API IO Descriptors</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/metrics.html">Metrics API</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="reference/frameworks/index.html">Framework APIs</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/onnx.html">ONNX</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/sklearn.html">Scikit-Learn</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/transformers.html">Transformers</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/flax.html">Flax</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/tensorflow.html">TensorFlow</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/torchscript.html">TorchScript</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/xgboost.html">XGBoost</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/picklable_model.html">Picklable Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/pytorch.html">PyTorch</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/lightgbm.html">LightGBM</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/mlflow.html">MLflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/catboost.html">CatBoost</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/fastai.html">fast.ai</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/keras.html">Keras</a></li>
<li class="toctree-l3"><a class="reference internal" href="reference/frameworks/ray.html">Ray</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="reference/cli.html">BentoML CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/batch.html">Batch Inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/exceptions.html">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="reference/container.html">Container APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/bentoml/BentoML/tree/main/examples" target="_blank">Examples</a></li>
<li class="toctree-l1"><a class="reference external" href="https://l.linklyhq.com/l/ktOX" target="_blank">Community</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/bentoml/BentoML" target="_blank">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://modelserving.com" target="_blank">Blog</a></li>
</ul>

</div>

<div id="furo-sidebar-ad-placement" class="flat" data-ea-publisher="readthedocs" data-ea-type="readthedocs-sidebar" data-ea-manual="true"></div>
</div>

<div id="furo-readthedocs-versions" class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions" tabindex="0">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book">&nbsp;</span>
    v: latest
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="/en/latest/">latest</a></dd>
      
        <dd><a href="/en/0.13-lts/">0.13-lts</a></dd>
      
    </dl>
    <dl>
      <dt>Downloads</dt>
      
    </dl>
    <dl>
      
      <dt>On Read the Docs</dt>
        <dd>
          <a href="//readthedocs.org/projects/bentoml/?fromdocs=bentoml">Project Home</a>
        </dd>
        <dd>
          <a href="//readthedocs.org/builds/bentoml/?fromdocs=bentoml">Builds</a>
        </dd>
    </dl>
  </div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/bentoml/bentoml/edit/main/docs/source/tutorial.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"></path>
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5"></line>
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="tutorial-intro-to-bentoml">
<h1>Tutorial: Intro to BentoML<a class="headerlink" href="#tutorial-intro-to-bentoml" title="Permalink to this heading">#</a></h1>
<p><em>time expected: 10 minutes</em></p>
<p>In this tutorial, we will focus on online model serving with BentoML, using a
classification model trained with <a class="reference external" href="https://scikit-learn.org/stable/" target="_blank">scikit-learn</a> and the Iris dataset.
By the end of this tutorial, we will have a Bento that can be served easily using HTTP or gRPC for handling inference requests, and a docker
container image for deployment.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You might be tempted to skip this tutorial because you are not using scikit-learn,
but give it a chance. The concepts you will learn in the tutorial are fundamental to
model serving with any ML framework using BentoML, and mastering it will give you a
deep understanding of BentoML.</p>
</div>
<section id="setup-for-the-tutorial">
<h2>Setup for the tutorial<a class="headerlink" href="#setup-for-the-tutorial" title="Permalink to this heading">#</a></h2>
<p>There are three ways to complete this tutorial:</p>
<ol class="arabic">
<li><p>Run with Google Colab in your browser</p>
<p>👉 <a class="reference external" href="https://colab.research.google.com/github/bentoml/BentoML/blob/main/examples/quickstart/iris_classifier.ipynb" target="_blank">Open Tutorial Notebook on Colab</a>
side by side with this guide. As you go through this guide, you can simply run the
sample code from the Colab Notebook.</p>
<p>You will be able to try out most of the content in the tutorial on Colab besides
the docker container part towards the end. This is because Google Colab currently
does not support docker.</p>
</li>
<li><p>Run the tutorial notebook from Docker</p>
<p>If you have Docker installed, you can run the tutorial notebook from a pre-configured
docker image with:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell0"><span></span>»<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span>-p<span class="w"> </span><span class="m">8888</span>:8888<span class="w"> </span>-p<span class="w"> </span><span class="m">3000</span>:3000<span class="w"> </span>-p<span class="w"> </span><span class="m">3001</span>:3001<span class="w"> </span>bentoml/quickstart:latest
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell0">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</li>
<li><p>Local Development Environment</p>
<p>Download the source code of this tutorial from <a class="reference external" href="https://github.com/bentoml/BentoML/tree/main/examples/quickstart" target="_blank">examples/quickstart</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell1"><span></span>»<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>--depth<span class="o">=</span><span class="m">1</span><span class="w"> </span>git@github.com:bentoml/BentoML.git
»<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>bentoml/examples/quickstart/
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell1">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>BentoML supports Linux, Windows and MacOS. You will need Python 3.7 or above to run
this tutorial. We recommend using <a class="reference external" href="https://docs.python.org/3/library/venv.html" target="_blank">virtual environment</a>
to create an isolated local environment. However this is not required.</p>
<p>Install all dependencies required for this tutorial:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell2"><span></span>»<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>bentoml<span class="w"> </span>scikit-learn<span class="w"> </span>pandas
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell2">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>BentoML provides gRPC support, and we will provide gRPC examples alongside the HTTP
ones in this tutorial. However, these examples are optional and you don’t have to
know about gRPC to get started with BentoML.</p>
<p>If you are interested in trying the gRPC examples in this tutorial, install
the gRPC dependencies for BentoML:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell3"><span></span>»<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">"bentoml[grpc]"</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell3">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</section>
<section id="saving-models-with-bentoml">
<h2>Saving Models with BentoML<a class="headerlink" href="#saving-models-with-bentoml" title="Permalink to this heading">#</a></h2>
<p>To begin with BentoML, you will need to save your trained models with BentoML API in
its model store (a local directory managed by BentoML). The model store is used for
managing all your trained models locally as well as accessing them for serving.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell4"><span></span><span class="kn">import</span> <span class="nn">bentoml</span>

<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">svm</span>
<span class="kn">from</span> <span class="nn">sklearn</span> <span class="kn">import</span> <span class="n">datasets</span>

<span class="c1"># Load training data set</span>
<span class="n">iris</span> <span class="o">=</span> <span class="n">datasets</span><span class="o">.</span><span class="n">load_iris</span><span class="p">()</span>
<span class="n">X</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">iris</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">iris</span><span class="o">.</span><span class="n">target</span>

<span class="c1"># Train the model</span>
<span class="n">clf</span> <span class="o">=</span> <span class="n">svm</span><span class="o">.</span><span class="n">SVC</span><span class="p">(</span><span class="n">gamma</span><span class="o">=</span><span class="s1">'scale'</span><span class="p">)</span>
<span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="hll"><span class="c1"># Save model to the BentoML local model store</span>
</span><span class="hll"><span class="n">saved_model</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">save_model</span><span class="p">(</span><span class="s2">"iris_clf"</span><span class="p">,</span> <span class="n">clf</span><span class="p">)</span>
</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">"Model saved: </span><span class="si">{</span><span class="n">saved_model</span><span class="si">}</span><span class="s2">"</span><span class="p">)</span>

<span class="c1"># Model saved: Model(tag="iris_clf:zy3dfgxzqkjrlgxi")</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell4">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>The model is now saved under the name <code class="docutils literal notranslate"><span class="pre">iris_clf</span></code> with an automatically generated
version. The name and version pair can then be used for retrieving the model. For
instance, the original model object can be loaded back into memory for testing via:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell5"><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="s2">"iris_clf:2uo5fkgxj27exuqj"</span><span class="p">)</span>

<span class="c1"># Alternatively, use `latest` to find the newest version</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">load_model</span><span class="p">(</span><span class="s2">"iris_clf:latest"</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell5">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">bentoml.sklearn.save_model</span></code> API is built specifically for the Scikit-Learn
framework and uses its native saved model format under the hood for best compatibility
and performance. This goes the same for other ML frameworks, e.g.
<code class="docutils literal notranslate"><span class="pre">bentoml.pytorch.save_model</span></code>, see the <a class="reference internal" href="frameworks/index.html"><span class="doc">Framework Guides</span></a> to learn more.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>It is possible to use pre-trained models directly with BentoML or import existing
trained model files to BentoML. Learn more about it from <a class="reference internal" href="concepts/model.html"><span class="doc">Preparing Models</span></a>.</p>
</div>
<p>Saved models can be managed via the <code class="docutils literal notranslate"><span class="pre">bentoml</span> <span class="pre">models</span></code> CLI command or Python API,
learn about it here: <a class="hxr-hoverxref hxr-tooltip reference internal tooltipstered" href="concepts/model.html#managing-models"><span class="std std-ref">Managing Models</span></a>.</p>
</section>
<section id="creating-a-service">
<h2>Creating a Service<a class="headerlink" href="#creating-a-service" title="Permalink to this heading">#</a></h2>
<p>Services are the core components of BentoML, where the serving logic is defined. Create
a file <code class="docutils literal notranslate"><span class="pre">service.py</span></code> with:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id2" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell6"><span></span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
 <span class="kn">import</span> <span class="nn">bentoml</span>
 <span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">NumpyNdarray</span>

 <span class="n">iris_clf_runner</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"iris_clf:latest"</span><span class="p">)</span><span class="o">.</span><span class="n">to_runner</span><span class="p">()</span>

 <span class="n">svc</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">Service</span><span class="p">(</span><span class="s2">"iris_classifier"</span><span class="p">,</span> <span class="n">runners</span><span class="o">=</span><span class="p">[</span><span class="n">iris_clf_runner</span><span class="p">])</span>

 <span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">(),</span> <span class="n">output</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">())</span>
 <span class="k">def</span> <span class="nf">classify</span><span class="p">(</span><span class="n">input_series</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
     <span class="n">result</span> <span class="o">=</span> <span class="n">iris_clf_runner</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">input_series</span><span class="p">)</span>
     <span class="k">return</span> <span class="n">result</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell6">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<p>We can now run the BentoML server for our new service in development mode:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" data-sync-id="http" for="sd-tab-item-0">
HTTP</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell7"><span></span>»<span class="w"> </span>bentoml<span class="w"> </span>serve<span class="w"> </span>service:svc<span class="w"> </span>--reload
<span class="m">2022</span>-09-18T21:11:22-0700<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Prometheus<span class="w"> </span>metrics<span class="w"> </span><span class="k">for</span><span class="w"> </span>HTTP<span class="w"> </span>BentoServer<span class="w"> </span>from<span class="w"> </span><span class="s2">"service.py:svc"</span><span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>accessed<span class="w"> </span>at<span class="w"> </span>http://localhost:3000/metrics.
<span class="m">2022</span>-09-18T21:11:22-0700<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Starting<span class="w"> </span>development<span class="w"> </span>HTTP<span class="w"> </span>BentoServer<span class="w"> </span>from<span class="w"> </span><span class="s2">"service.py:svc"</span><span class="w"> </span>listening<span class="w"> </span>on<span class="w"> </span><span class="m">0</span>.0.0.0:3000<span class="w"> </span><span class="o">(</span>Press<span class="w"> </span>CTRL+C<span class="w"> </span>to<span class="w"> </span>quit<span class="o">)</span>
<span class="m">2022</span>-09-18<span class="w"> </span><span class="m">21</span>:11:23<span class="w"> </span>circus<span class="o">[</span><span class="m">80177</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Loading<span class="w"> </span>the<span class="w"> </span>plugin...
<span class="m">2022</span>-09-18<span class="w"> </span><span class="m">21</span>:11:23<span class="w"> </span>circus<span class="o">[</span><span class="m">80177</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Endpoint:<span class="w"> </span><span class="s1">'tcp://127.0.0.1:61825'</span>
<span class="m">2022</span>-09-18<span class="w"> </span><span class="m">21</span>:11:23<span class="w"> </span>circus<span class="o">[</span><span class="m">80177</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Pub/sub:<span class="w"> </span><span class="s1">'tcp://127.0.0.1:61826'</span>
<span class="m">2022</span>-09-18T21:11:23-0700<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>observer<span class="o">]</span><span class="w"> </span>Watching<span class="w"> </span>directories:<span class="w"> </span><span class="o">[</span><span class="s1">'~/workspace/bentoml/examples/quickstart'</span>,<span class="w"> </span><span class="s1">'~/bentoml/models'</span><span class="o">]</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell7">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" data-sync-id="grpc" for="sd-tab-item-1">
gRPC</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell8"><span></span>»<span class="w"> </span>bentoml<span class="w"> </span>serve-grpc<span class="w"> </span>service:svc<span class="w"> </span>--reload<span class="w"> </span>--enable-reflection
<span class="m">2022</span>-09-18T21:12:18-0700<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Prometheus<span class="w"> </span>metrics<span class="w"> </span><span class="k">for</span><span class="w"> </span>gRPC<span class="w"> </span>BentoServer<span class="w"> </span>from<span class="w"> </span><span class="s2">"service.py:svc"</span><span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>accessed<span class="w"> </span>at<span class="w"> </span>http://localhost:3001.
<span class="m">2022</span>-09-18T21:12:18-0700<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Starting<span class="w"> </span>development<span class="w"> </span>gRPC<span class="w"> </span>BentoServer<span class="w"> </span>from<span class="w"> </span><span class="s2">"service.py:svc"</span><span class="w"> </span>listening<span class="w"> </span>on<span class="w"> </span><span class="m">0</span>.0.0.0:3000<span class="w"> </span><span class="o">(</span>Press<span class="w"> </span>CTRL+C<span class="w"> </span>to<span class="w"> </span>quit<span class="o">)</span>
<span class="m">2022</span>-09-18<span class="w"> </span><span class="m">21</span>:12:19<span class="w"> </span>circus<span class="o">[</span><span class="m">81102</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Loading<span class="w"> </span>the<span class="w"> </span>plugin...
<span class="m">2022</span>-09-18<span class="w"> </span><span class="m">21</span>:12:19<span class="w"> </span>circus<span class="o">[</span><span class="m">81102</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Endpoint:<span class="w"> </span><span class="s1">'tcp://127.0.0.1:61849'</span>
<span class="m">2022</span>-09-18<span class="w"> </span><span class="m">21</span>:12:19<span class="w"> </span>circus<span class="o">[</span><span class="m">81102</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span>Pub/sub:<span class="w"> </span><span class="s1">'tcp://127.0.0.1:61850'</span>
<span class="m">2022</span>-09-18T21:12:19-0700<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>observer<span class="o">]</span><span class="w"> </span>Watching<span class="w"> </span>directories:<span class="w"> </span><span class="o">[</span><span class="s1">'~/workspace/bentoml/examples/quickstart'</span>,<span class="w"> </span><span class="s1">'~/bentoml/models'</span><span class="o">]</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell8">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
<p>Send prediction request to the service:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-2" name="sd-tab-set-1" type="radio">
<label class="sd-tab-label" data-sync-id="http" for="sd-tab-item-2">
HTTP</label><div class="sd-tab-content docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-4" name="sd-tab-set-2" type="radio">
<label class="sd-tab-label" data-sync-id="python-client" for="sd-tab-item-4">
Python</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell9"><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
   <span class="s2">"http://127.0.0.1:3000/classify"</span><span class="p">,</span>
   <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">},</span>
   <span class="n">data</span><span class="o">=</span><span class="s2">"[[5.9, 3, 5.1, 1.8]]"</span><span class="p">,</span>
<span class="p">)</span><span class="o">.</span><span class="n">text</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell9">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-5" name="sd-tab-set-2" type="radio">
<label class="sd-tab-label" data-sync-id="curl-client" for="sd-tab-item-5">
CURL</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell10"><span></span>»<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span><span class="se">\</span>
<span class="w">   </span>-H<span class="w"> </span><span class="s2">"content-type: application/json"</span><span class="w"> </span><span class="se">\</span>
<span class="w">   </span>--data<span class="w"> </span><span class="s2">"[[5.9, 3, 5.1, 1.8]]"</span><span class="w"> </span><span class="se">\</span>
<span class="w">   </span>http://127.0.0.1:3000/classify
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell10">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-6" name="sd-tab-set-2" type="radio">
<label class="sd-tab-label" data-sync-id="browser-client" for="sd-tab-item-6">
Browser</label><div class="sd-tab-content docutils">
<p>Open <a class="reference external" href="http://127.0.0.1:3000" target="_blank">http://127.0.0.1:3000</a> in your browser and send test request from the web UI.</p>
</div>
</div>
</div>
<input id="sd-tab-item-3" name="sd-tab-set-1" type="radio">
<label class="sd-tab-label" data-sync-id="grpc" for="sd-tab-item-3">
gRPC</label><div class="sd-tab-content docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-7" name="sd-tab-set-3" type="radio">
<label class="sd-tab-label" data-sync-id="python-client" for="sd-tab-item-7">
Python</label><div class="sd-tab-content docutils">
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell11"><span></span><span class="kn">import</span> <span class="nn">grpc</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">bentoml.grpc.utils</span> <span class="kn">import</span> <span class="n">import_generated_stubs</span>

<span class="n">pb</span><span class="p">,</span> <span class="n">services</span> <span class="o">=</span> <span class="n">import_generated_stubs</span><span class="p">()</span>

<span class="k">with</span> <span class="n">grpc</span><span class="o">.</span><span class="n">insecure_channel</span><span class="p">(</span><span class="s2">"localhost:3000"</span><span class="p">)</span> <span class="k">as</span> <span class="n">channel</span><span class="p">:</span>
   <span class="n">stub</span> <span class="o">=</span> <span class="n">services</span><span class="o">.</span><span class="n">BentoServiceStub</span><span class="p">(</span><span class="n">channel</span><span class="p">)</span>

   <span class="n">req</span><span class="p">:</span> <span class="n">pb</span><span class="o">.</span><span class="n">Response</span> <span class="o">=</span> <span class="n">stub</span><span class="o">.</span><span class="n">Call</span><span class="p">(</span>
      <span class="n">request</span><span class="o">=</span><span class="n">pb</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span>
            <span class="n">api_name</span><span class="o">=</span><span class="s2">"classify"</span><span class="p">,</span>
            <span class="n">ndarray</span><span class="o">=</span><span class="n">pb</span><span class="o">.</span><span class="n">NDArray</span><span class="p">(</span>
               <span class="n">dtype</span><span class="o">=</span><span class="n">pb</span><span class="o">.</span><span class="n">NDArray</span><span class="o">.</span><span class="n">DTYPE_FLOAT</span><span class="p">,</span>
               <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">),</span>
               <span class="n">float_values</span><span class="o">=</span><span class="p">[</span><span class="mf">5.9</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mf">5.1</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">],</span>
            <span class="p">),</span>
      <span class="p">)</span>
   <span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">req</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell11">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-8" name="sd-tab-set-3" type="radio">
<label class="sd-tab-label" data-sync-id="curl-client" for="sd-tab-item-8">
grpcURL</label><div class="sd-tab-content docutils">
<p>We will use <a class="reference external" href="https://github.com/fullstorydev/grpcurl" target="_blank">fullstorydev/grpcurl</a> to send a CURL-like request to the gRPC BentoServer.</p>
<p>Note that we will use <a class="reference external" href="https://docs.docker.com/get-docker/" target="_blank">docker</a> to run the <code class="docutils literal notranslate"><span class="pre">grpcurl</span></code> command.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-10" name="sd-tab-set-4" type="radio">
<label class="sd-tab-label" data-sync-id="macwin" for="sd-tab-item-10">
MacOS/Windows</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell12"><span></span>»<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-i<span class="w"> </span>--rm<span class="w"> </span>fullstorydev/grpcurl<span class="w"> </span>-d<span class="w"> </span>@<span class="w"> </span>-plaintext<span class="w"> </span>host.docker.internal:3000<span class="w"> </span>bentoml.grpc.v1.BentoService/Call<span class="w"> </span><span class="s">&lt;&lt;EOM</span>
<span class="s">{</span>
<span class="s">   "apiName": "classify",</span>
<span class="s">   "ndarray": {</span>
<span class="s">      "shape": [1, 4],</span>
<span class="s">      "floatValues": [5.9, 3, 5.1, 1.8]</span>
<span class="s">   }</span>
<span class="s">}</span>
<span class="s">EOM</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell12">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-11" name="sd-tab-set-4" type="radio">
<label class="sd-tab-label" data-sync-id="Linux" for="sd-tab-item-11">
Linux</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell13"><span></span>»<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-i<span class="w"> </span>--rm<span class="w"> </span>--network<span class="o">=</span>host<span class="w"> </span>fullstorydev/grpcurl<span class="w"> </span>-d<span class="w"> </span>@<span class="w"> </span>-plaintext<span class="w"> </span><span class="m">0</span>.0.0.0:3000<span class="w"> </span>bentoml.grpc.v1.BentoService/Call<span class="w"> </span><span class="s">&lt;&lt;EOM</span>
<span class="s">{</span>
<span class="s">   "apiName": "classify",</span>
<span class="s">   "ndarray": {</span>
<span class="s">      "shape": [1, 4],</span>
<span class="s">      "floatValues": [5.9, 3, 5.1, 1.8]</span>
<span class="s">   }</span>
<span class="s">}</span>
<span class="s">EOM</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell13">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
<input id="sd-tab-item-9" name="sd-tab-set-3" type="radio">
<label class="sd-tab-label" data-sync-id="browser-client" for="sd-tab-item-9">
Browser</label><div class="sd-tab-content docutils">
<p>We will use <a class="reference external" href="https://github.com/fullstorydev/grpcui" target="_blank">fullstorydev/grpcui</a> to send request from a web browser.</p>
<p>Note that we will use <a class="reference external" href="https://docs.docker.com/get-docker/" target="_blank">docker</a> to run the <code class="docutils literal notranslate"><span class="pre">grpcui</span></code> command.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-12" name="sd-tab-set-5" type="radio">
<label class="sd-tab-label" data-sync-id="macwin" for="sd-tab-item-12">
MacOS/Windows</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell14"><span></span>»<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>--init<span class="w"> </span>--rm<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:8080<span class="w"> </span>fullstorydev/grpcui<span class="w"> </span>-plaintext<span class="w"> </span>host.docker.internal:3000
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell14">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-13" name="sd-tab-set-5" type="radio">
<label class="sd-tab-label" data-sync-id="Linux" for="sd-tab-item-13">
Linux</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell15"><span></span>»<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>--init<span class="w"> </span>--rm<span class="w"> </span>-p<span class="w"> </span><span class="m">8080</span>:8080<span class="w"> </span>--network<span class="o">=</span>host<span class="w"> </span>fullstorydev/grpcui<span class="w"> </span>-plaintext<span class="w"> </span><span class="m">0</span>.0.0.0:3000
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell15">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
<p>Proceed to <a class="reference external" href="http://127.0.0.1:8080" target="_blank">http://127.0.0.1:8080</a> in your browser and send test request from the web UI.</p>
</div>
</div>
</div>
</div>
<section id="using-models-in-a-service">
<h3>Using Models in a Service<a class="headerlink" href="#using-models-in-a-service" title="Permalink to this heading">#</a></h3>
<p>In this example, <code class="docutils literal notranslate"><span class="pre">bentoml.sklearn.get</span></code> creates a reference to the saved model
in the model store, and <code class="docutils literal notranslate"><span class="pre">to_runner</span></code> creates a Runner instance from the model.
The Runner abstraction gives BentoServer more flexibility in terms of how to schedule
the inference computation, how to dynamically batch inference calls and better take
advantage of all hardware resource available.</p>
<p>You can test out the Runner interface this way:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell16"><span></span><span class="kn">import</span> <span class="nn">bentoml</span>

<span class="n">iris_clf_runner</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"iris_clf:latest"</span><span class="p">)</span><span class="o">.</span><span class="n">to_runner</span><span class="p">()</span>
<span class="n">iris_clf_runner</span><span class="o">.</span><span class="n">init_local</span><span class="p">()</span>
<span class="n">iris_clf_runner</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">run</span><span class="p">([[</span><span class="mf">5.9</span><span class="p">,</span> <span class="mf">3.</span><span class="p">,</span> <span class="mf">5.1</span><span class="p">,</span> <span class="mf">1.8</span><span class="p">]])</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell16">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For custom Runners (to define our own Runner classes) and advanced runner options,
see <a class="reference internal" href="concepts/runner.html"><span class="doc">Using Runners</span></a> and <a class="reference internal" href="guides/batching.html"><span class="doc">Adaptive Batching</span></a>.</p>
</div>
</section>
<section id="service-api-and-io-descriptor">
<h3>Service API and IO Descriptor<a class="headerlink" href="#service-api-and-io-descriptor" title="Permalink to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">svc.api</span></code> decorator adds a function to the <code class="docutils literal notranslate"><span class="pre">bentoml.Service</span></code> object’s
APIs list. The <code class="docutils literal notranslate"><span class="pre">input</span></code> and <code class="docutils literal notranslate"><span class="pre">output</span></code> parameter takes an
<a class="reference internal" href="reference/api_io_descriptors.html"><span class="doc">IO Descriptor</span></a> object, which specifies the API
function’s expected input/output types, and is used for generating HTTP endpoints.</p>
<p>In this example, both <code class="docutils literal notranslate"><span class="pre">input</span></code> and <code class="docutils literal notranslate"><span class="pre">output</span></code> are defined with
<a class="hxr-hoverxref hxr-tooltip reference internal tooltipstered" href="reference/api_io_descriptors.html#numpy-ndarray"><span class="std std-ref">bentoml.io.NumpyNdarray</span></a>, which means
the API function being decorated, takes a <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> as input, and returns a
<code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> as output.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>More options, such as <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>, <code class="docutils literal notranslate"><span class="pre">JSON</span></code>, and <code class="docutils literal notranslate"><span class="pre">PIL.Image</span></code>
are also supported. An IO Descriptor object can also be configured with a schema or
a shape for input/output validation. Learn more about them in
<a class="reference internal" href="reference/api_io_descriptors.html"><span class="doc">API IO Descriptors</span></a>.</p>
</div>
<p>Inside the API function, users can define any business logic, feature fetching, and
feature transformation code. Model inference calls are made directly through runner
objects, that are passed into <code class="docutils literal notranslate"><span class="pre">bentoml.Service(name=..,</span> <span class="pre">runners=[..])</span></code> call when
creating the service object.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>BentoML supports both <a class="hxr-hoverxref hxr-tooltip reference internal tooltipstered" href="concepts/service.html#sync-vs-async-apis"><span class="std std-ref">sync and async endpoints</span></a>.
For performance sensitive use cases, especially when working with IO-intense
workloads (e.g. fetching features from multiple sources) or when
<a class="hxr-hoverxref hxr-tooltip reference internal tooltipstered" href="concepts/runner.html#serving-multiple-models-via-runner"><span class="std std-ref">composing multiple models</span></a> , you may consider defining an
<code class="docutils literal notranslate"><span class="pre">async</span></code> API instead.</p>
<p>Here’s an example of the same endpoint above defined with <code class="docutils literal notranslate"><span class="pre">async</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell17"><span></span><span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">(),</span> <span class="n">output</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">())</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">classify</span><span class="p">(</span><span class="n">input_series</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
   <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">iris_clf_runner</span><span class="o">.</span><span class="n">predict</span><span class="o">.</span><span class="n">async_run</span><span class="p">(</span><span class="n">input_series</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">result</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell17">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</section>
</section>
<section id="building-a-bento">
<h2>Building a Bento 🍱<a class="headerlink" href="#building-a-bento" title="Permalink to this heading">#</a></h2>
<p>Once the service definition is finalized, we can build the model and service into a
<code class="docutils literal notranslate"><span class="pre">bento</span></code>. Bento is the distribution format for a service. It is a self-contained
archive that contains all the source code, model files and dependency specifications
required to run the service.</p>
<p>To build a Bento, first create a <code class="docutils literal notranslate"><span class="pre">bentofile.yaml</span></code> file in your project directory:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-14" name="sd-tab-set-6" type="radio">
<label class="sd-tab-label" data-sync-id="http" for="sd-tab-item-14">
HTTP</label><div class="sd-tab-content docutils">
<div class="highlight-yaml notranslate"><div class="highlight"><pre id="codecell18"><span></span><span class="nt">service</span><span class="p">:</span><span class="w"> </span><span class="s">"service:svc"</span><span class="w">  </span><span class="c1"># Same as the argument passed to `bentoml serve`</span>
<span class="nt">labels</span><span class="p">:</span>
<span class="w">   </span><span class="nt">owner</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bentoml-team</span>
<span class="w">   </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev</span>
<span class="nt">include</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="s">"*.py"</span><span class="w">  </span><span class="c1"># A pattern for matching which files to include in the bento</span>
<span class="nt">python</span><span class="p">:</span>
<span class="w">   </span><span class="nt">packages</span><span class="p">:</span><span class="w">  </span><span class="c1"># Additional pip packages required by the service</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scikit-learn</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell18">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-15" name="sd-tab-set-6" type="radio">
<label class="sd-tab-label" data-sync-id="grpc" for="sd-tab-item-15">
gRPC</label><div class="sd-tab-content docutils">
<div class="highlight-yaml notranslate"><div class="highlight"><pre id="codecell19"><span></span><span class="nt">service</span><span class="p">:</span><span class="w"> </span><span class="s">"service:svc"</span><span class="w">  </span><span class="c1"># Same as the argument passed to `bentoml serve`</span>
<span class="nt">labels</span><span class="p">:</span>
<span class="w">   </span><span class="nt">owner</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bentoml-team</span>
<span class="w">   </span><span class="nt">stage</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">dev</span>
<span class="nt">include</span><span class="p">:</span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="s">"*.py"</span><span class="w">  </span><span class="c1"># A pattern for matching which files to include in the bento</span>
<span class="nt">python</span><span class="p">:</span>
<span class="w">   </span><span class="nt">packages</span><span class="p">:</span><span class="w">  </span><span class="c1"># Additional pip packages required by the service</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bentoml[grpc]</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">scikit-learn</span>
<span class="w">   </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell19">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>BentoML provides lots of build options in <code class="docutils literal notranslate"><span class="pre">bentofile.yaml</span></code> for customizing the
Python dependencies, cuda installation, docker image distro, etc. Read more about it
on the <a class="reference internal" href="concepts/bento.html"><span class="doc">Building Bentos</span></a> page.</p>
</div>
<p>Next, run the <code class="docutils literal notranslate"><span class="pre">bentoml</span> <span class="pre">build</span></code> CLI command from the same directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell20"><span></span>»<span class="w"> </span>bentoml<span class="w"> </span>build

Building<span class="w"> </span>BentoML<span class="w"> </span>service<span class="w"> </span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span><span class="w"> </span>from<span class="w"> </span>build<span class="w"> </span>context<span class="w"> </span><span class="s2">"/home/user/gallery/quickstart"</span>
Packing<span class="w"> </span>model<span class="w"> </span><span class="s2">"iris_clf:zy3dfgxzqkjrlgxi"</span>
Locking<span class="w"> </span>PyPI<span class="w"> </span>package<span class="w"> </span>versions..

██████╗░███████╗███╗░░██╗████████╗░█████╗░███╗░░░███╗██╗░░░░░
██╔══██╗██╔════╝████╗░██║╚══██╔══╝██╔══██╗████╗░████║██║░░░░░
██████╦╝█████╗░░██╔██╗██║░░░██║░░░██║░░██║██╔████╔██║██║░░░░░
██╔══██╗██╔══╝░░██║╚████║░░░██║░░░██║░░██║██║╚██╔╝██║██║░░░░░
██████╦╝███████╗██║░╚███║░░░██║░░░╚█████╔╝██║░╚═╝░██║███████╗
╚═════╝░╚══════╝╚═╝░░╚══╝░░░╚═╝░░░░╚════╝░╚═╝░░░░░╚═╝╚══════╝

Successfully<span class="w"> </span>built<span class="w"> </span>Bento<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span><span class="o">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell20">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>🎉 You’ve just created your first Bento, and it is now ready for serving in production!
For starters, you can now serve it with the <code class="docutils literal notranslate"><span class="pre">bentoml</span> <span class="pre">serve</span></code> CLI command:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-16" name="sd-tab-set-7" type="radio">
<label class="sd-tab-label" data-sync-id="http" for="sd-tab-item-16">
HTTP</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell21"><span></span>»<span class="w"> </span>bentoml<span class="w"> </span>serve<span class="w"> </span>iris_classifier:latest<span class="w"> </span>--production

<span class="m">2022</span>-09-18T21:22:17-0700<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Environ<span class="w"> </span><span class="k">for</span><span class="w"> </span>worker<span class="w"> </span><span class="m">0</span>:<span class="w"> </span><span class="nb">set</span><span class="w"> </span>CPU<span class="w"> </span>thread<span class="w"> </span>count<span class="w"> </span>to<span class="w"> </span><span class="m">10</span>
<span class="m">2022</span>-09-18T21:22:17-0700<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Prometheus<span class="w"> </span>metrics<span class="w"> </span><span class="k">for</span><span class="w"> </span>HTTP<span class="w"> </span>BentoServer<span class="w"> </span>from<span class="w"> </span><span class="s2">"iris_classifier:latest"</span><span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>accessed<span class="w"> </span>at<span class="w"> </span>http://0.0.0.0:3000/metrics.
<span class="m">2022</span>-09-18T21:22:18-0700<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Starting<span class="w"> </span>production<span class="w"> </span>HTTP<span class="w"> </span>BentoServer<span class="w"> </span>from<span class="w"> </span><span class="s2">"iris_classifier:latest"</span><span class="w"> </span>running<span class="w"> </span>on<span class="w"> </span>http://0.0.0.0:3000<span class="w"> </span><span class="o">(</span>Press<span class="w"> </span>CTRL+C<span class="w"> </span>to<span class="w"> </span>quit<span class="o">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell21">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-17" name="sd-tab-set-7" type="radio">
<label class="sd-tab-label" data-sync-id="grpc" for="sd-tab-item-17">
gRPC</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell22"><span></span>»<span class="w"> </span>bentoml<span class="w"> </span>serve-grpc<span class="w"> </span>iris_classifier:latest<span class="w"> </span>--production

<span class="m">2022</span>-09-18T21:23:11-0700<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Environ<span class="w"> </span><span class="k">for</span><span class="w"> </span>worker<span class="w"> </span><span class="m">0</span>:<span class="w"> </span><span class="nb">set</span><span class="w"> </span>CPU<span class="w"> </span>thread<span class="w"> </span>count<span class="w"> </span>to<span class="w"> </span><span class="m">10</span>
<span class="m">2022</span>-09-18T21:23:11-0700<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Prometheus<span class="w"> </span>metrics<span class="w"> </span><span class="k">for</span><span class="w"> </span>gRPC<span class="w"> </span>BentoServer<span class="w"> </span>from<span class="w"> </span><span class="s2">"iris_classifier:latest"</span><span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>accessed<span class="w"> </span>at<span class="w"> </span>http://0.0.0.0:3001.
<span class="m">2022</span>-09-18T21:23:11-0700<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Starting<span class="w"> </span>production<span class="w"> </span>gRPC<span class="w"> </span>BentoServer<span class="w"> </span>from<span class="w"> </span><span class="s2">"iris_classifier:latest"</span><span class="w"> </span>running<span class="w"> </span>on<span class="w"> </span>http://0.0.0.0:3000<span class="w"> </span><span class="o">(</span>Press<span class="w"> </span>CTRL+C<span class="w"> </span>to<span class="w"> </span>quit<span class="o">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell22">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The build process resolves <code class="docutils literal notranslate"><span class="pre">iris_clf:latest</span></code> and packages the latest version of the <code class="docutils literal notranslate"><span class="pre">iris_clf</span></code> model in the model store to ensure the same version of the model gets deployed every time.</p>
</div>
<p>Bento is the unit of deployment in BentoML, one of the most important artifacts to keep
track of in your model deployment workflow. BentoML provides CLI commands and APIs for
managing Bentos and moving them around, see the <a class="hxr-hoverxref hxr-tooltip reference internal tooltipstered" href="concepts/bento.html#managing-bentos"><span class="std std-ref">Managing Bentos</span></a>
section to learn more.</p>
</section>
<section id="generate-docker-image">
<h2>Generate Docker Image<a class="headerlink" href="#generate-docker-image" title="Permalink to this heading">#</a></h2>
<p>A docker image can be automatically generated from a Bento for production deployment,
via the <code class="docutils literal notranslate"><span class="pre">bentoml</span> <span class="pre">containerize</span></code> CLI command:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-18" name="sd-tab-set-8" type="radio">
<label class="sd-tab-label" data-sync-id="http" for="sd-tab-item-18">
HTTP</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell23"><span></span>»<span class="w"> </span>bentoml<span class="w"> </span>containerize<span class="w"> </span>iris_classifier:latest

Building<span class="w"> </span>docker<span class="w"> </span>image<span class="w"> </span><span class="k">for</span><span class="w"> </span>Bento<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span><span class="o">)</span>...
Successfully<span class="w"> </span>built<span class="w"> </span>docker<span class="w"> </span>image<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span><span class="w"> </span>with<span class="w"> </span>tags<span class="w"> </span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>
To<span class="w"> </span>run<span class="w"> </span>your<span class="w"> </span>newly<span class="w"> </span>built<span class="w"> </span>Bento<span class="w"> </span>container,<span class="w"> </span>pass<span class="w"> </span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span><span class="w"> </span>to<span class="w"> </span><span class="s2">"docker run"</span>.<span class="w"> </span>For<span class="w"> </span>example:<span class="w"> </span><span class="s2">"docker run -it --rm -p 3000:3000 iris_classifier:6otbsmxzq6lwbgxi serve --production"</span>.
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell23">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-19" name="sd-tab-set-8" type="radio">
<label class="sd-tab-label" data-sync-id="grpc" for="sd-tab-item-19">
gRPC</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell24"><span></span>»<span class="w"> </span>bentoml<span class="w"> </span>containerize<span class="w"> </span>iris_classifier:latest<span class="w"> </span>--enable-features<span class="w"> </span>grpc

Building<span class="w"> </span>docker<span class="w"> </span>image<span class="w"> </span><span class="k">for</span><span class="w"> </span>Bento<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span><span class="o">)</span>...
Successfully<span class="w"> </span>built<span class="w"> </span>docker<span class="w"> </span>image<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span><span class="w"> </span>with<span class="w"> </span>tags<span class="w"> </span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>
To<span class="w"> </span>run<span class="w"> </span>your<span class="w"> </span>newly<span class="w"> </span>built<span class="w"> </span>Bento<span class="w"> </span>container,<span class="w"> </span>pass<span class="w"> </span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span><span class="w"> </span>to<span class="w"> </span><span class="s2">"docker run"</span>.<span class="w"> </span>For<span class="w"> </span>example:<span class="w"> </span><span class="s2">"docker run -it --rm -p 3000:3000 iris_classifier:6otbsmxzq6lwbgxi serve --production"</span>.
Additionally,<span class="w"> </span>to<span class="w"> </span>run<span class="w"> </span>your<span class="w"> </span>Bento<span class="w"> </span>container<span class="w"> </span>as<span class="w"> </span>a<span class="w"> </span>gRPC<span class="w"> </span>server,<span class="w"> </span><span class="k">do</span>:<span class="w"> </span><span class="s2">"docker run -it --rm -p 3000:3000 -p 3001:3001 iris_classifier:6otbsmxzq6lwbgxi serve-grpc --production"</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell24">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You will need to <a class="reference external" href="https://docs.docker.com/get-docker/" target="_blank">install Docker</a> before
running this command.</p>
</div>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-icon"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-cpu" viewBox="0 0 16 16" aria-hidden="true"><path fill-rule="evenodd" d="M6.5.75a.75.75 0 00-1.5 0V2H3.75A1.75 1.75 0 002 3.75V5H.75a.75.75 0 000 1.5H2v3H.75a.75.75 0 000 1.5H2v1.25c0 .966.784 1.75 1.75 1.75H5v1.25a.75.75 0 001.5 0V14h3v1.25a.75.75 0 001.5 0V14h1.25A1.75 1.75 0 0014 12.25V11h1.25a.75.75 0 000-1.5H14v-3h1.25a.75.75 0 000-1.5H14V3.75A1.75 1.75 0 0012.25 2H11V.75a.75.75 0 00-1.5 0V2h-3V.75zm5.75 11.75h-8.5a.25.25 0 01-.25-.25v-8.5a.25.25 0 01.25-.25h8.5a.25.25 0 01.25.25v8.5a.25.25 0 01-.25.25zM5.75 5a.75.75 0 00-.75.75v4.5c0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75v-4.5a.75.75 0 00-.75-.75h-4.5zm.75 4.5v-3h3v3h-3z"></path></svg></span>For Mac with Apple Silicon<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">Specify the <code class="docutils literal notranslate"><span class="pre">--platform</span></code> to avoid potential compatibility issues with some
Python libraries.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell25"><span></span>»<span class="w"> </span>bentoml<span class="w"> </span>containerize<span class="w"> </span>--platform<span class="o">=</span>linux/amd64<span class="w"> </span>iris_classifier:latest
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell25">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</details><p>This creates a docker image that includes the Bento, and has all its dependencies
installed. The docker image tag will be same as the Bento tag by default:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell26"><span></span>»<span class="w"> </span>docker<span class="w"> </span>images

REPOSITORY<span class="w">         </span>TAG<span class="w">                 </span>IMAGE<span class="w"> </span>ID<span class="w">        </span>CREATED<span class="w">          </span>SIZE
iris_classifier<span class="w">    </span>6otbsmxzq6lwbgxi<span class="w">    </span>0b4f5ec01941<span class="w">    </span><span class="m">10</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">   </span><span class="m">1</span>.06GB
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell26">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Run the docker image to start the BentoServer:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-20" name="sd-tab-set-9" type="radio">
<label class="sd-tab-label" data-sync-id="http" for="sd-tab-item-20">
HTTP</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell27"><span></span>»<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span>-p<span class="w"> </span><span class="m">3000</span>:3000<span class="w"> </span>iris_classifier:6otbsmxzq6lwbgxi<span class="w"> </span>serve<span class="w"> </span>--production

<span class="m">2022</span>-09-19T05:27:31+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Service<span class="w"> </span>loaded<span class="w"> </span>from<span class="w"> </span>Bento<span class="w"> </span>directory:<span class="w"> </span>bentoml.Service<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>,<span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">"/home/bentoml/bento/"</span><span class="o">)</span>
<span class="m">2022</span>-09-19T05:27:31+0000<span class="w"> </span><span class="o">[</span>WARNING<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>GPU<span class="w"> </span>not<span class="w"> </span>detected.<span class="w"> </span>Unable<span class="w"> </span>to<span class="w"> </span>initialize<span class="w"> </span>pynvml<span class="w"> </span>lib.
<span class="m">2022</span>-09-19T05:27:31+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Environ<span class="w"> </span><span class="k">for</span><span class="w"> </span>worker<span class="w"> </span><span class="m">0</span>:<span class="w"> </span><span class="nb">set</span><span class="w"> </span>CPU<span class="w"> </span>thread<span class="w"> </span>count<span class="w"> </span>to<span class="w"> </span><span class="m">4</span>
<span class="m">2022</span>-09-19T05:27:31+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Prometheus<span class="w"> </span>metrics<span class="w"> </span><span class="k">for</span><span class="w"> </span>HTTP<span class="w"> </span>BentoServer<span class="w"> </span>from<span class="w"> </span><span class="s2">"/home/bentoml/bento"</span><span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>accessed<span class="w"> </span>at<span class="w"> </span>http://0.0.0.0:3000/metrics.
<span class="m">2022</span>-09-19T05:27:32+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Starting<span class="w"> </span>production<span class="w"> </span>HTTP<span class="w"> </span>BentoServer<span class="w"> </span>from<span class="w"> </span><span class="s2">"/home/bentoml/bento"</span><span class="w"> </span>running<span class="w"> </span>on<span class="w"> </span>http://0.0.0.0:3000<span class="w"> </span><span class="o">(</span>Press<span class="w"> </span>CTRL+C<span class="w"> </span>to<span class="w"> </span>quit<span class="o">)</span>
<span class="m">2022</span>-09-19T05:27:32+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>api_server:2<span class="o">]</span><span class="w"> </span>Service<span class="w"> </span>loaded<span class="w"> </span>from<span class="w"> </span>Bento<span class="w"> </span>directory:<span class="w"> </span>bentoml.Service<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>,<span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">"/home/bentoml/bento/"</span><span class="o">)</span>
<span class="m">2022</span>-09-19T05:27:32+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>api_server:1<span class="o">]</span><span class="w"> </span>Service<span class="w"> </span>loaded<span class="w"> </span>from<span class="w"> </span>Bento<span class="w"> </span>directory:<span class="w"> </span>bentoml.Service<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>,<span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">"/home/bentoml/bento/"</span><span class="o">)</span>
<span class="m">2022</span>-09-19T05:27:32+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>runner:iris_clf:1<span class="o">]</span><span class="w"> </span>Service<span class="w"> </span>loaded<span class="w"> </span>from<span class="w"> </span>Bento<span class="w"> </span>directory:<span class="w"> </span>bentoml.Service<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>,<span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">"/home/bentoml/bento/"</span><span class="o">)</span>
<span class="m">2022</span>-09-19T05:27:32+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>api_server:3<span class="o">]</span><span class="w"> </span>Service<span class="w"> </span>loaded<span class="w"> </span>from<span class="w"> </span>Bento<span class="w"> </span>directory:<span class="w"> </span>bentoml.Service<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>,<span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">"/home/bentoml/bento/"</span><span class="o">)</span>
<span class="m">2022</span>-09-19T05:27:32+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>api_server:4<span class="o">]</span><span class="w"> </span>Service<span class="w"> </span>loaded<span class="w"> </span>from<span class="w"> </span>Bento<span class="w"> </span>directory:<span class="w"> </span>bentoml.Service<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>,<span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">"/home/bentoml/bento/"</span><span class="o">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell27">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-21" name="sd-tab-set-9" type="radio">
<label class="sd-tab-label" data-sync-id="grpc" for="sd-tab-item-21">
gRPC</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell28"><span></span>»<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>-it<span class="w"> </span>--rm<span class="w"> </span>-p<span class="w"> </span><span class="m">3000</span>:3000<span class="w"> </span>-p<span class="w"> </span><span class="m">3001</span>:3001<span class="w"> </span>iris_classifier:6otbsmxzq6lwbgxi<span class="w"> </span>serve-grpc<span class="w"> </span>--production

<span class="m">2022</span>-09-19T05:28:29+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Service<span class="w"> </span>loaded<span class="w"> </span>from<span class="w"> </span>Bento<span class="w"> </span>directory:<span class="w"> </span>bentoml.Service<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>,<span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">"/home/bentoml/bento/"</span><span class="o">)</span>
<span class="m">2022</span>-09-19T05:28:29+0000<span class="w"> </span><span class="o">[</span>WARNING<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>GPU<span class="w"> </span>not<span class="w"> </span>detected.<span class="w"> </span>Unable<span class="w"> </span>to<span class="w"> </span>initialize<span class="w"> </span>pynvml<span class="w"> </span>lib.
<span class="m">2022</span>-09-19T05:28:29+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Environ<span class="w"> </span><span class="k">for</span><span class="w"> </span>worker<span class="w"> </span><span class="m">0</span>:<span class="w"> </span><span class="nb">set</span><span class="w"> </span>CPU<span class="w"> </span>thread<span class="w"> </span>count<span class="w"> </span>to<span class="w"> </span><span class="m">4</span>
<span class="m">2022</span>-09-19T05:28:29+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Prometheus<span class="w"> </span>metrics<span class="w"> </span><span class="k">for</span><span class="w"> </span>gRPC<span class="w"> </span>BentoServer<span class="w"> </span>from<span class="w"> </span><span class="s2">"/home/bentoml/bento"</span><span class="w"> </span>can<span class="w"> </span>be<span class="w"> </span>accessed<span class="w"> </span>at<span class="w"> </span>http://0.0.0.0:3001.
<span class="m">2022</span>-09-19T05:28:30+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>cli<span class="o">]</span><span class="w"> </span>Starting<span class="w"> </span>production<span class="w"> </span>gRPC<span class="w"> </span>BentoServer<span class="w"> </span>from<span class="w"> </span><span class="s2">"/home/bentoml/bento"</span><span class="w"> </span>running<span class="w"> </span>on<span class="w"> </span>http://0.0.0.0:3000<span class="w"> </span><span class="o">(</span>Press<span class="w"> </span>CTRL+C<span class="w"> </span>to<span class="w"> </span>quit<span class="o">)</span>
<span class="m">2022</span>-09-19T05:28:30+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>grpc_api_server:2<span class="o">]</span><span class="w"> </span>Service<span class="w"> </span>loaded<span class="w"> </span>from<span class="w"> </span>Bento<span class="w"> </span>directory:<span class="w"> </span>bentoml.Service<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>,<span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">"/home/bentoml/bento/"</span><span class="o">)</span>
<span class="m">2022</span>-09-19T05:28:30+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>grpc_api_server:4<span class="o">]</span><span class="w"> </span>Service<span class="w"> </span>loaded<span class="w"> </span>from<span class="w"> </span>Bento<span class="w"> </span>directory:<span class="w"> </span>bentoml.Service<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>,<span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">"/home/bentoml/bento/"</span><span class="o">)</span>
<span class="m">2022</span>-09-19T05:28:30+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>grpc_api_server:3<span class="o">]</span><span class="w"> </span>Service<span class="w"> </span>loaded<span class="w"> </span>from<span class="w"> </span>Bento<span class="w"> </span>directory:<span class="w"> </span>bentoml.Service<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>,<span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">"/home/bentoml/bento/"</span><span class="o">)</span>
<span class="m">2022</span>-09-19T05:28:30+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>grpc_api_server:1<span class="o">]</span><span class="w"> </span>Service<span class="w"> </span>loaded<span class="w"> </span>from<span class="w"> </span>Bento<span class="w"> </span>directory:<span class="w"> </span>bentoml.Service<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>,<span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">"/home/bentoml/bento/"</span><span class="o">)</span>
<span class="m">2022</span>-09-19T05:28:30+0000<span class="w"> </span><span class="o">[</span>INFO<span class="o">]</span><span class="w"> </span><span class="o">[</span>runner:iris_clf:1<span class="o">]</span><span class="w"> </span>Service<span class="w"> </span>loaded<span class="w"> </span>from<span class="w"> </span>Bento<span class="w"> </span>directory:<span class="w"> </span>bentoml.Service<span class="o">(</span><span class="nv">tag</span><span class="o">=</span><span class="s2">"iris_classifier:6otbsmxzq6lwbgxi"</span>,<span class="w"> </span><span class="nv">path</span><span class="o">=</span><span class="s2">"/home/bentoml/bento/"</span><span class="o">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell28">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
<p>Most of the deployment tools built on top of BentoML use Docker under the hood. It is
recommended to test out serving from a containerized Bento docker image first, before
moving to a production deployment. This helps verify the correctness of all the docker
and dependency configs specified in the <code class="docutils literal notranslate"><span class="pre">bentofile.yaml</span></code>.</p>
</section>
<section id="deploying-bentos">
<h2>Deploying Bentos<a class="headerlink" href="#deploying-bentos" title="Permalink to this heading">#</a></h2>
<p>BentoML standardizes the saved model format, service API definition and the Bento build
process, which opens up many different deployment options for ML teams.</p>
<p>The Bento we built and the docker image created in the previous steps are designed to
be DevOps friendly and ready for deployment in a production environment. If your team
has existing infrastructure for running docker, it’s likely that the Bento generated
docker images can be directly deployed to your infrastructure without any modification.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To streamline the deployment process, BentoServer follows most common best practices
found in a backend service: it provides
<a class="reference internal" href="guides/monitoring.html"><span class="doc">health check and prometheus metrics</span></a>
endpoints for monitoring out-of-the-box; It provides configurable
<a class="reference internal" href="guides/tracing.html"><span class="doc">distributed tracing</span></a> and <a class="reference internal" href="guides/logging.html"><span class="doc">logging</span></a> for
performance analysis and debugging; and it can be easily
<a class="reference internal" href="integrations/index.html"><span class="doc">integrated with other tools</span></a> that are commonly used by
Data Engineers and DevOps engineers.</p>
</div>
<p>For teams looking for an end-to-end solution, with more powerful deployment features
specific for ML, the BentoML team has also created Yatai and bentoctl:</p>
<div class="sd-container-fluid sd-sphinx-override sd-m-0 sd-p-0 docutils">
<div class="sd-row sd-row-cols-1 sd-row-cols-xs-1 sd-row-cols-sm-2 sd-row-cols-md-2 sd-row-cols-lg-2 sd-g-3 sd-g-xs-3 sd-g-sm-3 sd-g-md-3 sd-g-lg-3 docutils">
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
<a class="reference external" href="https://github.com/bentoml/Yatai" target="_blank">🦄️ Yatai</a></div>
<p class="sd-card-text">Model Deployment at scale on Kubernetes.</p>
</div>
<a class="sd-stretched-link reference external" href="https://github.com/bentoml/Yatai" target="_blank"></a></div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm sd-card-hover docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
<a class="reference external" href="https://github.com/bentoml/bentoctl" target="_blank">🚀 bentoctl</a></div>
<p class="sd-card-text">Fast model deployment on any cloud platform.</p>
</div>
<a class="sd-stretched-link reference external" href="https://github.com/bentoml/bentoctl" target="_blank"></a></div>
</div>
</div>
</div>
<p>Learn more about different deployment options with BentoML from the
<a class="reference internal" href="concepts/deploy.html"><span class="doc">Deploying Bento</span></a> page.</p>
<hr class="docutils">
<p><span class="sd-d-grid"><a class="sd-sphinx-override sd-btn sd-text-wrap sd-btn-secondary reference internal" href="concepts/index.html"><span class="doc">Continue Reading</span></a></span></p>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="concepts/index.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Main Concepts</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="installation.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Installation</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright © 2022-2023, bentoml.com
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/bentoml/bentoml" aria-label="GitHub"> 🍱 </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Tutorial: Intro to BentoML</a><ul>
<li><a class="reference internal" href="#setup-for-the-tutorial">Setup for the tutorial</a></li>
<li><a class="reference internal" href="#saving-models-with-bentoml">Saving Models with BentoML</a></li>
<li><a class="reference internal" href="#creating-a-service">Creating a Service</a><ul>
<li><a class="reference internal" href="#using-models-in-a-service">Using Models in a Service</a></li>
<li><a class="reference internal" href="#service-api-and-io-descriptor">Service API and IO Descriptor</a></li>
</ul>
</li>
<li><a class="reference internal" href="#building-a-bento">Building a Bento 🍱</a></li>
<li><a class="reference internal" href="#generate-docker-image">Generate Docker Image</a></li>
<li><a class="reference internal" href="#deploying-bentos">Deploying Bentos</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/tabs.js"></script>
    <script src="_static/js/hoverxref.js"></script>
    <script src="_static/js/tooltipster.bundle.min.js"></script>
    <script src="_static/js/micromodal.min.js"></script>
    <script src="_static/design-tabs.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script async="async" src="/_/static/javascript/readthedocs-doc-embed.js"></script>
    <script src="_static/js/custom.js"></script>
    

  <div class="modal micromodal-slide rst-content" id="micromodal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close="">
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="micromodal-title">
        <header class="modal__header">
          <h1 class="modal__title" id="micromodal-title"></h1>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close=""></button>
        </header>
        <hr>
        <main class="modal__content" id="micromodal-content"></main>
        <footer class="modal__footer">
          <button class="modal__btn" data-micromodal-close="" aria-label="Close this dialog window">Close</button>
        </footer>
      </div>
    </div>
  </div>
</body></html>