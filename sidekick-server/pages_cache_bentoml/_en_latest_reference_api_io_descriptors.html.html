<!DOCTYPE html><html class="" lang="en"><head><!-- Google Tag Manager -->
<script async="" src="https://www.googletagmanager.com/gtm.js?id=GTM-NLGDMK5"></script><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NLGDMK5');</script>
<!-- End Google Tag Manager -->
<meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/">
<meta property="og:title" content="API IO Descriptors">
<meta property="og:type" content="website">
<meta property="og:url" content="http://docs.bentoml.org/reference/api_io_descriptors.html">
<meta property="og:site_name" content="BentoML Documentation">
<meta property="og:description" content="IO Descriptors are used for describing the input and output spec of a Service API. Here’s a list of built-in IO Descriptors and APIs for extending custom IO Descriptor. NumPy ndarray: Tabular Data ...">
<meta property="og:image" content="https://docs.bentoml.org/en/latest/_images/bentoml-banner.png">
<meta property="og:image:alt" content="BentoML Documentation">
<meta name="description" content="IO Descriptors are used for describing the input and output spec of a Service API. Here’s a list of built-in IO Descriptors and APIs for extending custom IO Descriptor. NumPy ndarray: Tabular Data ...">
<link rel="index" title="Index" href="../genindex.html"><link rel="search" title="Search" href="../search.html"><link rel="next" title="Metrics API" href="metrics.html"><link rel="prev" title="Bento Store APIs" href="stores.html">
        <link rel="canonical" href="https://docs.bentoml.org/en/latest/reference/api_io_descriptors.html">

    <link rel="shortcut icon" href="../_static/favicon-96x96.ico"><!-- Generated with Sphinx 5.3.0 and Furo 2023.03.27 -->
<script>
window.Papercups = {
    config: {
        // Pass in your Papercups account token here after signing up
        accountId: '25ad5fd9-293b-4e0f-9601-5b0cd7846b48',
        token: '25ad5fd9-293b-4e0f-9601-5b0cd7846b48',
        inbox: 'ac3ebd50-fc10-4299-9a1c-496841b49a6f',
        title: 'Welcome to BentoML!',
        subtitle: 'Ask us anything in the chat window below 😊',
        // newMessagePlaceholder: 'Start typing...',
        primaryColor: '#47AFD1',
        // Optionally pass in a default greeting
        greeting: "Hi there! How can I help you? If we couldn't get back to you in " +
                "time, feel free to join our community on slack and post your " +
                "question in the #support channel: https://l.linklyhq.com/l/ktOX",
        // Optionally pass in metadata to identify the customer
        // customer: {
        //   name: 'Test User',
        //   email: 'test@test.com',
        //   external_id: '123',
        //   metadata: {version: 1, plan: 'premium'}, // Custom fields go here
        // },
        // Optionally specify the base URL
        baseUrl: 'https://yatai-community-papercups.herokuapp.com',
        // Add this if you want to require the customer to enter
        // their email before being able to send you a message
        requireEmailUpfront: true,
        // Add this if you want to indicate when you/your agents
        // are online or offline to your customers
        showAgentAvailability: true,
    },
};
</script>
<script type="text/javascript" async="" defer="" src="https://app.papercups.io/widget.js"></script>

        <title>API IO Descriptors - BentoML</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css">
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=fad236701ea90a88636c2a8c73b44ae642ed2a53">
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css">
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.custom.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.bundle.min.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-shadow.min.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-punk.min.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-noir.min.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-light.min.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-borderless.min.css">
    <link rel="stylesheet" type="text/css" href="../_static/css/micromodal.css">
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css">
    <link rel="stylesheet" type="text/css" href="/_/static/css/badge_only.css">
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e">
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css">
    
    


<style>
  body {
    --color-code-background: #3f3f3f;
  --color-code-foreground: #dcdccc;
  --color-brand-primary: #44a4c6 ;
  --color-brand-content: #44a4c6 ;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #c9378a ;
  --color-brand-content: #c9378a ;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #272822;
  --color-code-foreground: #f8f8f2;
  --color-brand-primary: #c9378a ;
  --color-brand-content: #c9378a ;
  
      }
    }
  }
</style>
<!-- RTD Extra Head -->

<link rel="stylesheet" href="/_/static/css/readthedocs-doc-embed.css" type="text/css">

<script type="application/json" id="READTHEDOCS_DATA">{"ad_free": true, "api_host": "https://readthedocs.org", "build_date": "2023-03-27T14:27:42Z", "builder": "sphinx", "canonical_url": null, "commit": "6b4da8fe", "docroot": "/docs/source/", "features": {"docsearch_disabled": false}, "global_analytics_code": "UA-17997319-1", "language": "en", "page": "reference/api_io_descriptors", "programming_language": "py", "project": "bentoml", "proxied_api_host": "/_", "source_suffix": ".rst", "subprojects": {"yatai": "https://docs.bentoml.org/projects/yatai/en/latest/"}, "theme": "furo", "user_analytics_code": "UA-112879361-4", "version": "latest"}</script>

<!--
Using this variable directly instead of using `JSON.parse` is deprecated.
The READTHEDOCS_DATA global variable will be removed in the future.
-->
<script type="text/javascript">
READTHEDOCS_DATA = JSON.parse(document.getElementById('READTHEDOCS_DATA').innerHTML);
</script>

<script type="text/javascript" src="/_/static/javascript/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
<script src="https://www.googletagmanager.com/gtag/js?id=UA-17997319-1" type="text/javascript" async=""></script><style type="text/css">.CtxtMenu_InfoClose {  top:.2em; right:.2em;}
.CtxtMenu_InfoContent {  overflow:auto; text-align:left; font-size:80%;  padding:.4em .6em; border:1px inset; margin:1em 0px;  max-height:20em; max-width:30em; background-color:#EEEEEE;  white-space:normal;}
.CtxtMenu_Info.CtxtMenu_MousePost {outline:none;}
.CtxtMenu_Info {  position:fixed; left:50%; width:auto; text-align:center;  border:3px outset; padding:1em 2em; background-color:#DDDDDD;  color:black;  cursor:default; font-family:message-box; font-size:120%;  font-style:normal; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 15px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius:15px;               /* Safari and Chrome */  -moz-border-radius:15px;                  /* Firefox */  -khtml-border-radius:15px;                /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */  filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color="gray", Positive="true"); /* IE */}
</style><style type="text/css">.CtxtMenu_MenuClose {  position:absolute;  cursor:pointer;  display:inline-block;  border:2px solid #AAA;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  font-family: "Courier New", Courier;  font-size:24px;  color:#F0F0F0}
.CtxtMenu_MenuClose span {  display:block; background-color:#AAA; border:1.5px solid;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  line-height:0;  padding:8px 0 6px     /* may need to be browser-specific */}
.CtxtMenu_MenuClose:hover {  color:white!important;  border:2px solid #CCC!important}
.CtxtMenu_MenuClose:hover span {  background-color:#CCC!important}
.CtxtMenu_MenuClose:hover:focus {  outline:none}
</style><style type="text/css">.CtxtMenu_Menu {  position:absolute;  background-color:white;  color:black;  width:auto; padding:5px 0px;  border:1px solid #CCCCCC; margin:0; cursor:default;  font: menu; text-align:left; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 5px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius: 5px;             /* Safari and Chrome */  -moz-border-radius: 5px;                /* Firefox */  -khtml-border-radius: 5px;              /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */}
.CtxtMenu_MenuItem {  padding: 1px 2em;  background:transparent;}
.CtxtMenu_MenuArrow {  position:absolute; right:.5em; padding-top:.25em; color:#666666;  font-family: null; font-size: .75em}
.CtxtMenu_MenuActive .CtxtMenu_MenuArrow {color:white}
.CtxtMenu_MenuArrow.CtxtMenu_RTL {left:.5em; right:auto}
.CtxtMenu_MenuCheck {  position:absolute; left:.7em;  font-family: null}
.CtxtMenu_MenuCheck.CtxtMenu_RTL { right:.7em; left:auto }
.CtxtMenu_MenuRadioCheck {  position:absolute; left: .7em;}
.CtxtMenu_MenuRadioCheck.CtxtMenu_RTL {  right: .7em; left:auto}
.CtxtMenu_MenuInputBox {  padding-left: 1em; right:.5em; color:#666666;  font-family: null;}
.CtxtMenu_MenuInputBox.CtxtMenu_RTL {  left: .1em;}
.CtxtMenu_MenuComboBox {  left:.1em; padding-bottom:.5em;}
.CtxtMenu_MenuSlider {  left: .1em;}
.CtxtMenu_SliderValue {  position:absolute; right:.1em; padding-top:.25em; color:#333333;  font-size: .75em}
.CtxtMenu_SliderBar {  outline: none; background: #d3d3d3}
.CtxtMenu_MenuLabel {  padding: 1px 2em 3px 1.33em;  font-style:italic}
.CtxtMenu_MenuRule {  border-top: 1px solid #DDDDDD;  margin: 4px 3px;}
.CtxtMenu_MenuDisabled {  color:GrayText}
.CtxtMenu_MenuActive {  background-color: #606872;  color: white;}
.CtxtMenu_MenuDisabled:focus {  background-color: #E8E8E8}
.CtxtMenu_MenuLabel:focus {  background-color: #E8E8E8}
.CtxtMenu_ContextMenu:focus {  outline:none}
.CtxtMenu_ContextMenu .CtxtMenu_MenuItem:focus {  outline:none}
.CtxtMenu_SelectionMenu {  position:relative; float:left;  border-bottom: none; -webkit-box-shadow:none; -webkit-border-radius:0px; }
.CtxtMenu_SelectionItem {  padding-right: 1em;}
.CtxtMenu_Selection {  right: 40%; width:50%; }
.CtxtMenu_SelectionBox {  padding: 0em; max-height:20em; max-width: none;  background-color:#FFFFFF;}
.CtxtMenu_SelectionDivider {  clear: both; border-top: 2px solid #000000;}
.CtxtMenu_Menu .CtxtMenu_MenuClose {  top:-10px; left:-10px}
</style><style id="MJX-CHTML-styles">
mjx-container[jax="CHTML"] {
  line-height: 0;
}

mjx-container [space="1"] {
  margin-left: .111em;
}

mjx-container [space="2"] {
  margin-left: .167em;
}

mjx-container [space="3"] {
  margin-left: .222em;
}

mjx-container [space="4"] {
  margin-left: .278em;
}

mjx-container [space="5"] {
  margin-left: .333em;
}

mjx-container [rspace="1"] {
  margin-right: .111em;
}

mjx-container [rspace="2"] {
  margin-right: .167em;
}

mjx-container [rspace="3"] {
  margin-right: .222em;
}

mjx-container [rspace="4"] {
  margin-right: .278em;
}

mjx-container [rspace="5"] {
  margin-right: .333em;
}

mjx-container [size="s"] {
  font-size: 70.7%;
}

mjx-container [size="ss"] {
  font-size: 50%;
}

mjx-container [size="Tn"] {
  font-size: 60%;
}

mjx-container [size="sm"] {
  font-size: 85%;
}

mjx-container [size="lg"] {
  font-size: 120%;
}

mjx-container [size="Lg"] {
  font-size: 144%;
}

mjx-container [size="LG"] {
  font-size: 173%;
}

mjx-container [size="hg"] {
  font-size: 207%;
}

mjx-container [size="HG"] {
  font-size: 249%;
}

mjx-container [width="full"] {
  width: 100%;
}

mjx-box {
  display: inline-block;
}

mjx-block {
  display: block;
}

mjx-itable {
  display: inline-table;
}

mjx-row {
  display: table-row;
}

mjx-row > * {
  display: table-cell;
}

mjx-mtext {
  display: inline-block;
}

mjx-mstyle {
  display: inline-block;
}

mjx-merror {
  display: inline-block;
  color: red;
  background-color: yellow;
}

mjx-mphantom {
  visibility: hidden;
}

_::-webkit-full-page-media, _:future, :root mjx-container {
  will-change: opacity;
}

mjx-assistive-mml {
  position: absolute !important;
  top: 0px;
  left: 0px;
  clip: rect(1px, 1px, 1px, 1px);
  padding: 1px 0px 0px 0px !important;
  border: 0px !important;
  display: block !important;
  width: auto !important;
  overflow: hidden !important;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

mjx-assistive-mml[display="block"] {
  width: 100% !important;
}

mjx-c::before {
  display: block;
  width: 0;
}

.MJX-TEX {
  font-family: MJXZERO, MJXTEX;
}

.TEX-B {
  font-family: MJXZERO, MJXTEX-B;
}

.TEX-I {
  font-family: MJXZERO, MJXTEX-I;
}

.TEX-MI {
  font-family: MJXZERO, MJXTEX-MI;
}

.TEX-BI {
  font-family: MJXZERO, MJXTEX-BI;
}

.TEX-S1 {
  font-family: MJXZERO, MJXTEX-S1;
}

.TEX-S2 {
  font-family: MJXZERO, MJXTEX-S2;
}

.TEX-S3 {
  font-family: MJXZERO, MJXTEX-S3;
}

.TEX-S4 {
  font-family: MJXZERO, MJXTEX-S4;
}

.TEX-A {
  font-family: MJXZERO, MJXTEX-A;
}

.TEX-C {
  font-family: MJXZERO, MJXTEX-C;
}

.TEX-CB {
  font-family: MJXZERO, MJXTEX-CB;
}

.TEX-FR {
  font-family: MJXZERO, MJXTEX-FR;
}

.TEX-FRB {
  font-family: MJXZERO, MJXTEX-FRB;
}

.TEX-SS {
  font-family: MJXZERO, MJXTEX-SS;
}

.TEX-SSB {
  font-family: MJXZERO, MJXTEX-SSB;
}

.TEX-SSI {
  font-family: MJXZERO, MJXTEX-SSI;
}

.TEX-SC {
  font-family: MJXZERO, MJXTEX-SC;
}

.TEX-T {
  font-family: MJXZERO, MJXTEX-T;
}

.TEX-V {
  font-family: MJXZERO, MJXTEX-V;
}

.TEX-VB {
  font-family: MJXZERO, MJXTEX-VB;
}

mjx-stretchy-v mjx-c, mjx-stretchy-h mjx-c {
  font-family: MJXZERO, MJXTEX-S1, MJXTEX-S4, MJXTEX, MJXTEX-A ! important;
}

@font-face /* 0 */ {
  font-family: MJXZERO;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Zero.woff") format("woff");
}

@font-face /* 1 */ {
  font-family: MJXTEX;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Regular.woff") format("woff");
}

@font-face /* 2 */ {
  font-family: MJXTEX-B;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Bold.woff") format("woff");
}

@font-face /* 3 */ {
  font-family: MJXTEX-I;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Math-Italic.woff") format("woff");
}

@font-face /* 4 */ {
  font-family: MJXTEX-MI;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Main-Italic.woff") format("woff");
}

@font-face /* 5 */ {
  font-family: MJXTEX-BI;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Math-BoldItalic.woff") format("woff");
}

@font-face /* 6 */ {
  font-family: MJXTEX-S1;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size1-Regular.woff") format("woff");
}

@font-face /* 7 */ {
  font-family: MJXTEX-S2;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size2-Regular.woff") format("woff");
}

@font-face /* 8 */ {
  font-family: MJXTEX-S3;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size3-Regular.woff") format("woff");
}

@font-face /* 9 */ {
  font-family: MJXTEX-S4;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Size4-Regular.woff") format("woff");
}

@font-face /* 10 */ {
  font-family: MJXTEX-A;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_AMS-Regular.woff") format("woff");
}

@font-face /* 11 */ {
  font-family: MJXTEX-C;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Regular.woff") format("woff");
}

@font-face /* 12 */ {
  font-family: MJXTEX-CB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Calligraphic-Bold.woff") format("woff");
}

@font-face /* 13 */ {
  font-family: MJXTEX-FR;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Fraktur-Regular.woff") format("woff");
}

@font-face /* 14 */ {
  font-family: MJXTEX-FRB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Fraktur-Bold.woff") format("woff");
}

@font-face /* 15 */ {
  font-family: MJXTEX-SS;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Regular.woff") format("woff");
}

@font-face /* 16 */ {
  font-family: MJXTEX-SSB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Bold.woff") format("woff");
}

@font-face /* 17 */ {
  font-family: MJXTEX-SSI;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_SansSerif-Italic.woff") format("woff");
}

@font-face /* 18 */ {
  font-family: MJXTEX-SC;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Script-Regular.woff") format("woff");
}

@font-face /* 19 */ {
  font-family: MJXTEX-T;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Typewriter-Regular.woff") format("woff");
}

@font-face /* 20 */ {
  font-family: MJXTEX-V;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Vector-Regular.woff") format("woff");
}

@font-face /* 21 */ {
  font-family: MJXTEX-VB;
  src: url("https://cdn.jsdelivr.net/npm/mathjax@3/es5/output/chtml/fonts/woff-v2/MathJax_Vector-Bold.woff") format("woff");
}
</style></head>
  <body data-theme="auto">
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NLGDMK5"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->

    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    


<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"></path>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z"></path>
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <circle cx="12" cy="12" r="9"></circle>
      <path d="M13 12h5"></path>
      <path d="M13 15h4"></path>
      <path d="M13 18h1"></path>
      <path d="M13 9h4"></path>
      <path d="M13 6h1"></path>
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">BentoML</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/logo.svg" alt="Logo">
  </div>
  
  <span class="sidebar-brand-text">BentoML</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Tutorial: Intro to BentoML</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../concepts/index.html">Main Concepts</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../concepts/model.html">Preparing Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/service.html">Service and APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/bento.html">Building Bentos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/runner.html">Using Runners</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/deploy.html">Deploying Bento</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../frameworks/index.html">Framework Guides</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/catboost.html">CatBoost</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/fastai.html">fast.ai</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/keras.html">Keras</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/lightgbm.html">LightGBM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/onnx.html">ONNX</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/picklable.html">Picklable Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/pytorch.html">PyTorch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/pytorch_lightning.html">PyTorch Lightning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/sklearn.html">Scikit-Learn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/tensorflow.html">TensorFlow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/transformers.html">Transformers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../frameworks/xgboost.html">XGBoost</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/index.html">Advanced Guides</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../guides/batching.html">Adaptive Batching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/containerization.html">Advanced Containerization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/client.html">Bento Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/server.html">Bento Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/envmanager.html">Environment Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/graph.html">Inference Graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/monitoring.html">Inference Data Collection &amp; Model Monitoring</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/metrics.html">Metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/performance.html">Performance Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/grpc.html">Serving with gRPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/gpu.html">Serving with GPU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/tracing.html">Tracing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/migration.html">1.0 Migration Guide</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../integrations/index.html">Integrations</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../integrations/airflow.html">Airflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrations/arize.html">Arize AI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrations/flink.html">Flink</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrations/kubeflow.html">Kubeflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrations/mlflow.html">MLflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrations/spark.html">Spark</a></li>
<li class="toctree-l2"><a class="reference internal" href="../integrations/triton.html">Triton Inference Server</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">API Reference</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="core.html">Core Components</a></li>
<li class="toctree-l2"><a class="reference internal" href="stores.html">Bento Store APIs</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">API IO Descriptors</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html">Metrics API</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="frameworks/index.html">Framework APIs</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="frameworks/onnx.html">ONNX</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/sklearn.html">Scikit-Learn</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/transformers.html">Transformers</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/flax.html">Flax</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/tensorflow.html">TensorFlow</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/torchscript.html">TorchScript</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/xgboost.html">XGBoost</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/picklable_model.html">Picklable Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/pytorch.html">PyTorch</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/lightgbm.html">LightGBM</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/mlflow.html">MLflow</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/catboost.html">CatBoost</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/fastai.html">fast.ai</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/keras.html">Keras</a></li>
<li class="toctree-l3"><a class="reference internal" href="frameworks/ray.html">Ray</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cli.html">BentoML CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch.html">Batch Inference</a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="container.html">Container APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/bentoml/BentoML/tree/main/examples" target="_blank">Examples</a></li>
<li class="toctree-l1"><a class="reference external" href="https://l.linklyhq.com/l/ktOX" target="_blank">Community</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/bentoml/BentoML" target="_blank">GitHub</a></li>
<li class="toctree-l1"><a class="reference external" href="https://modelserving.com" target="_blank">Blog</a></li>
</ul>

</div>

<div id="furo-sidebar-ad-placement" class="flat" data-ea-publisher="readthedocs" data-ea-type="readthedocs-sidebar" data-ea-manual="true"></div>
</div>

<div id="furo-readthedocs-versions" class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions" tabindex="0">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book">&nbsp;</span>
    v: latest
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      
        <dd><a href="/en/latest/">latest</a></dd>
      
        <dd><a href="/en/0.13-lts/">0.13-lts</a></dd>
      
    </dl>
    <dl>
      <dt>Downloads</dt>
      
    </dl>
    <dl>
      
      <dt>On Read the Docs</dt>
        <dd>
          <a href="//readthedocs.org/projects/bentoml/?fromdocs=bentoml">Project Home</a>
        </dd>
        <dd>
          <a href="//readthedocs.org/builds/bentoml/?fromdocs=bentoml">Builds</a>
        </dd>
    </dl>
  </div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/bentoml/bentoml/edit/main/docs/source/reference/api_io_descriptors.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4"></path>
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5"></line>
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="api-io-descriptors">
<h1>API IO Descriptors<a class="headerlink" href="#api-io-descriptors" title="Permalink to this heading">#</a></h1>
<p>IO Descriptors are used for describing the input and output spec of a Service API.
Here’s a list of built-in IO Descriptors and APIs for extending custom IO Descriptor.</p>
<section id="numpy-ndarray">
<h2>NumPy <code class="docutils literal notranslate"><span class="pre">ndarray</span></code><a class="headerlink" href="#numpy-ndarray" title="Permalink to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">numpy</span></code> package is required to use the <a class="reference internal" href="#bentoml.io.NumpyNdarray" title="bentoml.io.NumpyNdarray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bentoml.io.NumpyNdarray</span></code></a>.</p>
<p>Install it with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">numpy</span></code> and add it to your <code class="code docutils literal notranslate"><span class="pre">bentofile.yaml</span></code>’s under either Python or Conda packages list.</p>
<p>Refer to <a class="hxr-hoverxref hxr-tooltip reference internal tooltipstered" href="../concepts/bento.html#bento-build-options"><span class="std std-ref">Build Options</span></a>.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-0">
pip</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text"><cite>bentofile.yaml</cite></span><a class="headerlink" href="#id2" title="Permalink to this code">#</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre id="codecell0"><span></span><span class="nn">...</span>
<span class="nt">python</span><span class="p">:</span>
<span class="w">  </span><span class="nt">packages</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">numpy</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell0">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
<label class="sd-tab-label" for="sd-tab-item-1">
conda</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text"><cite>bentofile.yaml</cite></span><a class="headerlink" href="#id3" title="Permalink to this code">#</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre id="codecell1"><span></span><span class="nn">...</span>
<span class="nt">conda</span><span class="p">:</span>
<span class="w">  </span><span class="nt">channels</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
<span class="w">  </span><span class="nt">dependencies</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">numpy</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell1">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="bentoml.io.NumpyNdarray">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bentoml.io.</span></span><span class="sig-name descname"><span class="pre">NumpyNdarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ext.NpDTypeLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enforce_dtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/functions.html#bool" target="_blank"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#tuple" target="_blank"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/functions.html#int" target="_blank"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enforce_shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/functions.html#bool" target="_blank"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/numpy.html#NumpyNdarray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.NumpyNdarray" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#bentoml.io.NumpyNdarray" title="bentoml.io.NumpyNdarray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NumpyNdarray</span></code></a> defines API specification for the inputs/outputs of a Service, where
either inputs will be converted to or outputs will be converted from type
<code class="code docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> as specified in your API function signature.</p>
<p>A sample service implementation:</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id4" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell2"><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TYPE_CHECKING</span><span class="p">,</span> <span class="n">Any</span>

<span class="kn">import</span> <span class="nn">bentoml</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">NumpyNdarray</span>

<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">numpy.typing</span> <span class="kn">import</span> <span class="n">NDArray</span>

<span class="n">runner</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"sklearn_model_clf"</span><span class="p">)</span><span class="o">.</span><span class="n">to_runner</span><span class="p">()</span>

<span class="n">svc</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">Service</span><span class="p">(</span><span class="s2">"iris-classifier"</span><span class="p">,</span> <span class="n">runners</span><span class="o">=</span><span class="p">[</span><span class="n">runner</span><span class="p">])</span>

<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">(),</span> <span class="n">output</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="n">input_arr</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">input_arr</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell2">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<p>Users then can then serve this service with <code class="code docutils literal notranslate"><span class="pre">bentoml</span> <span class="pre">serve</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell3"><span></span>%<span class="w"> </span>bentoml<span class="w"> </span>serve<span class="w"> </span>./service.py:svc<span class="w"> </span>--reload
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell3">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Users can then send requests to the newly started services with any client:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-2" name="sd-tab-set-1" type="radio">
<label class="sd-tab-label" for="sd-tab-item-2">
Bash</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell4"><span></span>%<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>-H<span class="w"> </span><span class="s2">"Content-Type: application/json"</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--data<span class="w"> </span><span class="s1">'[[5,4,3,2]]'</span><span class="w"> </span>http://0.0.0.0:3000/predict

<span class="c1"># [1]%</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell4">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-3" name="sd-tab-set-1" type="radio">
<label class="sd-tab-label" for="sd-tab-item-3">
Python</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text"><cite>request.py</cite></span><a class="headerlink" href="#id5" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell5"><span></span> <span class="kn">import</span> <span class="nn">requests</span>

 <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
     <span class="s2">"http://0.0.0.0:3000/predict"</span><span class="p">,</span>
     <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">},</span>
     <span class="n">data</span><span class="o">=</span><span class="s1">'[{"0":5,"1":4,"2":3,"3":2}]'</span>
 <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell5">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dtype</strong> – Data type users wish to convert their inputs/outputs to. Refer to <a class="reference external" href="https://numpy.org/doc/stable/reference/arrays.dtypes.html" target="_blank">arrays dtypes</a> for more information.</p></li>
<li><p><strong>enforce_dtype</strong> – Whether to enforce a certain data type. if <code class="code docutils literal notranslate"><span class="pre">enforce_dtype=True</span></code> then <code class="code docutils literal notranslate"><span class="pre">dtype</span></code> must be specified.</p></li>
<li><p><strong>shape</strong> – </p><p>Given shape that an array will be converted to. For example:</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id6" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell6"><span></span><span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">NumpyNdarray</span>

<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">enforce_shape</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span> <span class="n">output</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">())</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="n">input_array</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
    <span class="c1"># input_array will be reshaped to (2,2)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">input_array</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell6">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">enforce_shape=True</span></code> is provided, BentoML will raise an exception if the input array received does not match the <cite>shape</cite> provided.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
<span class="sd-summary-icon"><svg version="1.1" width="1.0em" height="1.0em" class="sd-octicon sd-octicon-triangle-down" viewBox="0 0 16 16" aria-hidden="true"><path d="M4.427 7.427l3.396 3.396a.25.25 0 00.354 0l3.396-3.396A.25.25 0 0011.396 7H4.604a.25.25 0 00-.177.427z"></path></svg></span>About the behaviour of <code class="docutils literal notranslate"><span class="pre">shape</span></code><div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">If specified, then both <a class="reference internal" href="#bentoml.io.NumpyNdarray.from_http_request" title="bentoml.io.NumpyNdarray.from_http_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">bentoml.io.NumpyNdarray.from_http_request()</span></code></a> and <a class="reference internal" href="#bentoml.io.NumpyNdarray.from_proto" title="bentoml.io.NumpyNdarray.from_proto"><code class="xref py py-meth docutils literal notranslate"><span class="pre">bentoml.io.NumpyNdarray.from_proto()</span></code></a>
will reshape the input array before sending it to the API function.</p>
</div>
</details><p></p></li>
<li><p><strong>enforce_shape</strong> – Whether to enforce a certain shape. If <code class="docutils literal notranslate"><span class="pre">enforce_shape=True</span></code> then <code class="docutils literal notranslate"><span class="pre">shape</span></code> must be specified.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IO Descriptor that represents a <code class="code docutils literal notranslate"><span class="pre">np.ndarray</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">IODescriptor</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.NumpyNdarray.from_sample">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NumpyNdarray.</span></span><span class="sig-name descname"><span class="pre">from_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ext.NpNDArray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">t.Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">t.Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">ext.NpNDArray</span></span></span><a class="headerlink" href="#bentoml.io.NumpyNdarray.from_sample" title="Permalink to this definition">#</a></dt>
<dd><p>Create a <a class="reference internal" href="#bentoml.io.NumpyNdarray" title="bentoml._internal.io_descriptors.numpy.NumpyNdarray"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumpyNdarray</span></code></a> IO Descriptor from given inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample</strong> – Given sample <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> data. It also accepts a sequence-like data type that
can be converted to <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code>.</p></li>
<li><p><strong>enforce_dtype</strong> – Enforce a certain data type. <code class="code docutils literal notranslate"><span class="pre">dtype</span></code> must be specified at function
signature. If you don’t want to enforce a specific dtype then change
<code class="code docutils literal notranslate"><span class="pre">enforce_dtype=False</span></code>.</p></li>
<li><p><strong>enforce_shape</strong> – Enforce a certain shape. <code class="code docutils literal notranslate"><span class="pre">shape</span></code> must be specified at function
signature. If you don’t want to enforce a specific shape then change
<code class="code docutils literal notranslate"><span class="pre">enforce_shape=False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IODescriptor from given users inputs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bentoml.io.NumpyNdarray" title="bentoml._internal.io_descriptors.numpy.NumpyNdarray"><code class="xref py py-class docutils literal notranslate"><span class="pre">NumpyNdarray</span></code></a></p>
</dd>
</dl>
<p>Example:</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id7" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell7"><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TYPE_CHECKING</span><span class="p">,</span> <span class="n">Any</span>

<span class="kn">import</span> <span class="nn">bentoml</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">NumpyNdarray</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">numpy.typing</span> <span class="kn">import</span> <span class="n">NDArray</span>

<span class="n">input_spec</span> <span class="o">=</span> <span class="n">NumpyNdarray</span><span class="o">.</span><span class="n">from_sample</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]))</span>

<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">input_spec</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">())</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="nb">input</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">async_run</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell7">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="exceptions.html#bentoml.exceptions.BadInput" title="bentoml.exceptions.BadInput"><strong>BadInput</strong></a> – If given sample is a type <code class="docutils literal notranslate"><span class="pre">numpy.generic</span></code>. This exception
    will also be raised if we failed to create a <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code>
    from given sample.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.NumpyNdarray.from_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NumpyNdarray.</span></span><span class="sig-name descname"><span class="pre">from_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pb.NDArray</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">ext.NpNDArray</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/numpy.html#NumpyNdarray.from_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.NumpyNdarray.from_proto" title="Permalink to this definition">#</a></dt>
<dd><p>Process incoming protobuf request and convert it to <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request</strong> – Incoming RPC request message.</p></li>
<li><p><strong>context</strong> – grpc.ServicerContext</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A <code class="docutils literal notranslate"><span class="pre">np.array</span></code> constructed from given protobuf message.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="hxr-hoverxref hxr-tooltip reference internal tooltipstered" href="../guides/grpc.html#array-representation-via-ndarray"><span class="std std-ref">Protobuf representation of np.ndarray</span></a></p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, we support <code class="docutils literal notranslate"><span class="pre">pb.NDArray</span></code> and <code class="docutils literal notranslate"><span class="pre">serialized_bytes</span></code> as valid inputs.
<code class="docutils literal notranslate"><span class="pre">serialized_bytes</span></code> will be prioritised over <code class="docutils literal notranslate"><span class="pre">pb.NDArray</span></code> if both are provided.
Serialized bytes has a specialized bytes representation and should not be used by users directly.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.NumpyNdarray.from_http_request">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NumpyNdarray.</span></span><span class="sig-name descname"><span class="pre">from_http_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">ext.NpNDArray</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/numpy.html#NumpyNdarray.from_http_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.NumpyNdarray.from_http_request" title="Permalink to this definition">#</a></dt>
<dd><p>Process incoming requests and convert incoming objects to <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – Incoming Requests</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p><dl class="simple">
<dt>a <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code> object. This can then be used</dt><dd><p>inside users defined logics.</p>
</dd>
</dl>
<p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.NumpyNdarray.to_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NumpyNdarray.</span></span><span class="sig-name descname"><span class="pre">to_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ext.NpNDArray</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">pb.NDArray</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/numpy.html#NumpyNdarray.to_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.NumpyNdarray.to_proto" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.NumpyNdarray.to_http_response">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">NumpyNdarray.</span></span><span class="sig-name descname"><span class="pre">to_http_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ext.NpNDArray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Context</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/numpy.html#NumpyNdarray.to_http_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.NumpyNdarray.to_http_response" title="Permalink to this definition">#</a></dt>
<dd><p>Process given objects and convert it to HTTP response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – <code class="docutils literal notranslate"><span class="pre">np.ndarray</span></code> that will be serialized to JSON</p></li>
<li><p><strong>ctx</strong> – <code class="docutils literal notranslate"><span class="pre">Context</span></code> object that contains information about the request.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p><dl class="simple">
<dt>HTTP Response of type <code class="docutils literal notranslate"><span class="pre">starlette.responses.Response</span></code>. This can</dt><dd><p>be accessed via cURL or any external web traffic.</p>
</dd>
</dl>
<p></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="tabular-data-with-pandas">
<h2>Tabular Data with Pandas<a class="headerlink" href="#tabular-data-with-pandas" title="Permalink to this heading">#</a></h2>
<p>To use the IO descriptor, install bentoml with extra <code class="docutils literal notranslate"><span class="pre">io-pandas</span></code> dependency:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell8"><span></span>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">"bentoml[io-pandas]"</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell8">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">pandas</span></code> package is required to use the <a class="reference internal" href="#bentoml.io.PandasDataFrame" title="bentoml.io.PandasDataFrame"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bentoml.io.PandasDataFrame</span></code></a>
or <a class="reference internal" href="#bentoml.io.PandasSeries" title="bentoml.io.PandasSeries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bentoml.io.PandasSeries</span></code></a>.</p>
<p>Install it with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pandas</span></code> and add it to your <code class="code docutils literal notranslate"><span class="pre">bentofile.yaml</span></code>’s under either Python or Conda packages list.</p>
<p>Refer to <a class="hxr-hoverxref hxr-tooltip reference internal tooltipstered" href="../concepts/bento.html#bento-build-options"><span class="std std-ref">Build Options</span></a>.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-4" name="sd-tab-set-2" type="radio">
<label class="sd-tab-label" for="sd-tab-item-4">
pip</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text"><cite>bentofile.yaml</cite></span><a class="headerlink" href="#id8" title="Permalink to this code">#</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre id="codecell9"><span></span><span class="nn">...</span>
<span class="nt">python</span><span class="p">:</span>
<span class="w">  </span><span class="nt">packages</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell9">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
<input id="sd-tab-item-5" name="sd-tab-set-2" type="radio">
<label class="sd-tab-label" for="sd-tab-item-5">
conda</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text"><cite>bentofile.yaml</cite></span><a class="headerlink" href="#id9" title="Permalink to this code">#</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre id="codecell10"><span></span><span class="nn">...</span>
<span class="nt">conda</span><span class="p">:</span>
<span class="w">  </span><span class="nt">channels</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
<span class="w">  </span><span class="nt">dependencies</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pandas</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell10">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="bentoml.io.PandasDataFrame">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bentoml.io.</span></span><span class="sig-name descname"><span class="pre">PandasDataFrame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orient</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ext.DataFrameOrient</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'records'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#list" target="_blank"><span class="pre">list</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_column_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/functions.html#bool" target="_blank"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/functions.html#bool" target="_blank"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ext.PdDTypeArg</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enforce_dtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/functions.html#bool" target="_blank"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#tuple" target="_blank"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/functions.html#int" target="_blank"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enforce_shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/functions.html#bool" target="_blank"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">t.Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'json'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'parquet'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'csv'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'json'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/pandas.html#PandasDataFrame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.PandasDataFrame" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#bentoml.io.PandasDataFrame" title="bentoml.io.PandasDataFrame"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PandasDataFrame</span></code></a> defines API specification for the inputs/outputs of a Service,
where either inputs will be converted to or outputs will be converted from type
<code class="code docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> as specified in your API function signature.</p>
<p>A sample service implementation:</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id10" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell11"><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="nn">bentoml</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">PandasDataFrame</span>

<span class="n">input_spec</span> <span class="o">=</span> <span class="n">PandasDataFrame</span><span class="o">.</span><span class="n">from_sample</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">]])))</span>

<span class="n">runner</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"sklearn_model_clf"</span><span class="p">)</span><span class="o">.</span><span class="n">to_runner</span><span class="p">()</span>

<span class="n">svc</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">Service</span><span class="p">(</span><span class="s2">"iris-classifier"</span><span class="p">,</span> <span class="n">runners</span><span class="o">=</span><span class="p">[</span><span class="n">runner</span><span class="p">])</span>

<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">input_spec</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">PandasDataFrame</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="n">input_arr</span><span class="p">):</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">input_arr</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell11">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<p>Users then can then serve this service with <code class="code docutils literal notranslate"><span class="pre">bentoml</span> <span class="pre">serve</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell12"><span></span>%<span class="w"> </span>bentoml<span class="w"> </span>serve<span class="w"> </span>./service.py:svc<span class="w"> </span>--reload
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell12">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Users can then send requests to the newly started services with any client:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-6" name="sd-tab-set-3" type="radio">
<label class="sd-tab-label" for="sd-tab-item-6">
Bash</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell13"><span></span>%<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>-H<span class="w"> </span><span class="s2">"Content-Type: application/json"</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--data<span class="w"> </span><span class="s1">'[{"0":5,"1":4,"2":3,"3":2}]'</span><span class="w"> </span>http://0.0.0.0:3000/predict

<span class="c1"># [{"0": 1}]%</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell13">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-7" name="sd-tab-set-3" type="radio">
<label class="sd-tab-label" for="sd-tab-item-7">
Python</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text"><cite>request.py</cite></span><a class="headerlink" href="#id11" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell14"><span></span> <span class="kn">import</span> <span class="nn">requests</span>

 <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
     <span class="s2">"http://0.0.0.0:3000/predict"</span><span class="p">,</span>
     <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">},</span>
     <span class="n">data</span><span class="o">=</span><span class="s1">'[{"0":5,"1":4,"2":3,"3":2}]'</span>
 <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell14">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orient</strong> – </p><p>Indication of expected JSON string format. Compatible JSON strings can be
produced by <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.io.json.to_json()</span></code> with a corresponding orient value.
Possible orients are:</p>
<ul>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">split</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ {<code class="docutils literal notranslate"><span class="pre">idx</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">[idx]</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">[columns]</span></code>, <code class="docutils literal notranslate"><span class="pre">data</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">[values]</span></code>}</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">records</span></code> - <code class="code docutils literal notranslate"><span class="pre">list[Any]</span></code> ↦ [{<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}, …, {<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}]</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">index</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ {<code class="docutils literal notranslate"><span class="pre">idx</span></code> ↠ {<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}}</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">columns</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ {<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ {<code class="docutils literal notranslate"><span class="pre">index</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}}</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ Values arrays</p></li>
</ul>
<p></p></li>
<li><p><strong>columns</strong> – List of columns name that users wish to update.</p></li>
<li><p><strong>apply_column_names</strong> – Whether to update incoming DataFrame columns. If <code class="code docutils literal notranslate"><span class="pre">apply_column_names=True</span></code>,
then <code class="docutils literal notranslate"><span class="pre">columns</span></code> must be specified.</p></li>
<li><p><strong>dtype</strong> – Data type users wish to convert their inputs/outputs to. If it is a boolean,
then pandas will infer dtypes. Else if it is a dictionary of column to
<code class="docutils literal notranslate"><span class="pre">dtype</span></code>, then applies those to incoming dataframes. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, then don’t
infer dtypes at all (only applies to the data). This is not applicable for <code class="code docutils literal notranslate"><span class="pre">orient='table'</span></code>.</p></li>
<li><p><strong>enforce_dtype</strong> – Whether to enforce a certain data type. if <code class="code docutils literal notranslate"><span class="pre">enforce_dtype=True</span></code> then <code class="code docutils literal notranslate"><span class="pre">dtype</span></code> must be specified.</p></li>
<li><p><strong>shape</strong> – </p><p>Optional shape check that users can specify for their incoming HTTP
requests. We will only check the number of columns you specified for your
given shape:</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id12" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell15"><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">PandasDataFrame</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>  <span class="c1"># shape (1,3)</span>
<span class="n">inp</span> <span class="o">=</span> <span class="n">PandasDataFrame</span><span class="o">.</span><span class="n">from_sample</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span>
    <span class="nb">input</span><span class="o">=</span><span class="n">PandasDataFrame</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">51</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
          <span class="n">enforce_shape</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
    <span class="n">output</span><span class="o">=</span><span class="n">PandasDataFrame</span><span class="p">()</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="n">input_df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
    <span class="c1"># if input_df have shape (40,9),</span>
    <span class="c1"># it will throw out errors</span>
    <span class="o">...</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell15">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<p></p></li>
<li><p><strong>enforce_shape</strong> – Whether to enforce a certain shape. If <code class="docutils literal notranslate"><span class="pre">enforce_shape=True</span></code> then <code class="docutils literal notranslate"><span class="pre">shape</span></code> must be specified.</p></li>
<li><p><strong>default_format</strong> – </p><p>The default serialization format to use if the request does not specify a <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> Headers.
It is also the serialization format used for the response. Possible values are:</p>
<ul>
<li><p><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/json.html#module-json" target="_blank"><code class="xref py py-obj docutils literal notranslate"><span class="pre">json</span></code></a> - JSON text format (inferred from content-type <code class="docutils literal notranslate"><span class="pre">"application/json"</span></code>)</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">parquet</span></code> - Parquet binary format (inferred from content-type <code class="docutils literal notranslate"><span class="pre">"application/octet-stream"</span></code>)</p></li>
<li><p><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/csv.html#module-csv" target="_blank"><code class="xref py py-obj docutils literal notranslate"><span class="pre">csv</span></code></a> - CSV text format (inferred from content-type <code class="docutils literal notranslate"><span class="pre">"text/csv"</span></code>)</p></li>
</ul>
<p></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IO Descriptor that represents a <code class="code docutils literal notranslate"><span class="pre">pd.DataFrame</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bentoml.io.PandasDataFrame" title="bentoml.io.PandasDataFrame"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PandasDataFrame</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.PandasDataFrame.from_sample">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">PandasDataFrame.</span></span><span class="sig-name descname"><span class="pre">from_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ext.PdDataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">ext.PdDataFrame</span></span></span><a class="headerlink" href="#bentoml.io.PandasDataFrame.from_sample" title="Permalink to this definition">#</a></dt>
<dd><p>Create a <a class="reference internal" href="#bentoml.io.PandasDataFrame" title="bentoml._internal.io_descriptors.pandas.PandasDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">PandasDataFrame</span></code></a> IO Descriptor from given inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample</strong> – Given sample <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> data</p></li>
<li><p><strong>orient</strong> – </p><p>Indication of expected JSON string format. Compatible JSON strings can be
produced by <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.io.json.to_json()</span></code> with a corresponding orient value.
Possible orients are:</p>
<ul>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">split</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ {<code class="docutils literal notranslate"><span class="pre">idx</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">[idx]</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">[columns]</span></code>, <code class="docutils literal notranslate"><span class="pre">data</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">[values]</span></code>}</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">records</span></code> - <code class="code docutils literal notranslate"><span class="pre">list[Any]</span></code> ↦ [{<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}, …, {<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}]</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">index</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ {<code class="docutils literal notranslate"><span class="pre">idx</span></code> ↠ {<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}}</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">columns</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ {<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ {<code class="docutils literal notranslate"><span class="pre">index</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}}</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ Values arrays</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">table</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ {<code class="docutils literal notranslate"><span class="pre">schema</span></code>: { schema }, <code class="docutils literal notranslate"><span class="pre">data</span></code>: { data }}</p></li>
</ul>
<p></p></li>
<li><p><strong>apply_column_names</strong> – Update incoming DataFrame columns. <code class="docutils literal notranslate"><span class="pre">columns</span></code> must be specified at
function signature. If you don’t want to enforce a specific columns
name then change <code class="docutils literal notranslate"><span class="pre">apply_column_names=False</span></code>.</p></li>
<li><p><strong>enforce_dtype</strong> – Enforce a certain data type. <cite>dtype</cite> must be specified at function
signature. If you don’t want to enforce a specific dtype then change
<code class="docutils literal notranslate"><span class="pre">enforce_dtype=False</span></code>.</p></li>
<li><p><strong>enforce_shape</strong> – Enforce a certain shape. <code class="docutils literal notranslate"><span class="pre">shape</span></code> must be specified at function
signature. If you don’t want to enforce a specific shape then change
<code class="docutils literal notranslate"><span class="pre">enforce_shape=False</span></code>.</p></li>
<li><p><strong>default_format</strong> – </p><p>The default serialization format to use if the request does not specify a <code class="docutils literal notranslate"><span class="pre">Content-Type</span></code> Headers.
It is also the serialization format used for the response. Possible values are:</p>
<ul>
<li><p><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/json.html#module-json" target="_blank"><code class="xref py py-obj docutils literal notranslate"><span class="pre">json</span></code></a> - JSON text format (inferred from content-type <code class="docutils literal notranslate"><span class="pre">"application/json"</span></code>)</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">parquet</span></code> - Parquet binary format (inferred from content-type <code class="docutils literal notranslate"><span class="pre">"application/octet-stream"</span></code>)</p></li>
<li><p><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/csv.html#module-csv" target="_blank"><code class="xref py py-obj docutils literal notranslate"><span class="pre">csv</span></code></a> - CSV text format (inferred from content-type <code class="docutils literal notranslate"><span class="pre">"text/csv"</span></code>)</p></li>
</ul>
<p></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IODescriptor from given users inputs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bentoml.io.PandasDataFrame" title="bentoml._internal.io_descriptors.pandas.PandasDataFrame"><code class="xref py py-class docutils literal notranslate"><span class="pre">PandasDataFrame</span></code></a></p>
</dd>
</dl>
<p>Example:</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id13" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell16"><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">PandasDataFrame</span>
<span class="n">arr</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]]</span>
<span class="n">input_spec</span> <span class="o">=</span> <span class="n">PandasDataFrame</span><span class="o">.</span><span class="n">from_sample</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>

<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">input_spec</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">PandasDataFrame</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="n">inputs</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span> <span class="o">...</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell16">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.PandasDataFrame.from_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">PandasDataFrame.</span></span><span class="sig-name descname"><span class="pre">from_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pb.DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">ext.PdDataFrame</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/pandas.html#PandasDataFrame.from_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.PandasDataFrame.from_proto" title="Permalink to this definition">#</a></dt>
<dd><p>Process incoming protobuf request and convert it to <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request</strong> – Incoming RPC request message.</p></li>
<li><p><strong>context</strong> – grpc.ServicerContext</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p><dl class="simple">
<dt>a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code> object. This can then be used</dt><dd><p>inside users defined logics.</p>
</dd>
</dl>
<p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.PandasDataFrame.from_http_request">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">PandasDataFrame.</span></span><span class="sig-name descname"><span class="pre">from_http_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">ext.PdDataFrame</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/pandas.html#PandasDataFrame.from_http_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.PandasDataFrame.from_http_request" title="Permalink to this definition">#</a></dt>
<dd><p>Process incoming requests and convert incoming
objects to <cite>pd.DataFrame</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> (<cite>starlette.requests.Requests</cite>) – Incoming Requests</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p><dl class="simple">
<dt>a <cite>pd.DataFrame</cite> object. This can then be used</dt><dd><p>inside users defined logics.</p>
</dd>
</dl>
<p></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="exceptions.html#bentoml.exceptions.BadInput" title="bentoml.exceptions.BadInput"><strong>BadInput</strong></a> – Raised when the incoming requests are bad formatted.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.PandasDataFrame.to_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">PandasDataFrame.</span></span><span class="sig-name descname"><span class="pre">to_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ext.PdDataFrame</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">pb.DataFrame</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/pandas.html#PandasDataFrame.to_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.PandasDataFrame.to_proto" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.PandasDataFrame.to_http_response">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">PandasDataFrame.</span></span><span class="sig-name descname"><span class="pre">to_http_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ext.PdDataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Context</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/pandas.html#PandasDataFrame.to_http_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.PandasDataFrame.to_http_response" title="Permalink to this definition">#</a></dt>
<dd><p>Process given objects and convert it to HTTP response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<cite>pd.DataFrame</cite>) – <cite>pd.DataFrame</cite> that will be serialized to JSON or parquet</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p><dl class="simple">
<dt>HTTP Response of type <cite>starlette.responses.Response</cite>. This can</dt><dd><p>be accessed via cURL or any external web traffic.</p>
</dd>
</dl>
<p></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bentoml.io.PandasSeries">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bentoml.io.</span></span><span class="sig-name descname"><span class="pre">PandasSeries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orient</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ext.SeriesOrient</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'records'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ext.PdDTypeArg</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enforce_dtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/functions.html#bool" target="_blank"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#tuple" target="_blank"><span class="pre">tuple</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/functions.html#int" target="_blank"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enforce_shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/functions.html#bool" target="_blank"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/pandas.html#PandasSeries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.PandasSeries" title="Permalink to this definition">#</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">PandasSeries</span></code> defines API specification for the inputs/outputs of a Service, where
either inputs will be converted to or outputs will be converted from type
<code class="code docutils literal notranslate"><span class="pre">pd.Series</span></code> as specified in your API function signature.</p>
<p>A sample service implementation:</p>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id14" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell17"><span></span> <span class="kn">import</span> <span class="nn">bentoml</span>
 <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
 <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
 <span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">PandasSeries</span>

 <span class="n">runner</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"sklearn_model_clf"</span><span class="p">)</span><span class="o">.</span><span class="n">to_runner</span><span class="p">()</span>

 <span class="n">svc</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">Service</span><span class="p">(</span><span class="s2">"iris-classifier"</span><span class="p">,</span> <span class="n">runners</span><span class="o">=</span><span class="p">[</span><span class="n">runner</span><span class="p">])</span>

 <span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">PandasSeries</span><span class="p">(),</span> <span class="n">output</span><span class="o">=</span><span class="n">PandasSeries</span><span class="p">())</span>
 <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="n">input_arr</span><span class="p">):</span>
     <span class="n">res</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">input_arr</span><span class="p">)</span>  <span class="c1"># type: np.ndarray</span>
     <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell17">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<p>Users then can then serve this service with <code class="code docutils literal notranslate"><span class="pre">bentoml</span> <span class="pre">serve</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell18"><span></span>%<span class="w"> </span>bentoml<span class="w"> </span>serve<span class="w"> </span>./service.py:svc<span class="w"> </span>--reload
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell18">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Users can then send requests to the newly started services with any client:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-8" name="sd-tab-set-4" type="radio">
<label class="sd-tab-label" for="sd-tab-item-8">
Bash</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell19"><span></span>%<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>-H<span class="w"> </span><span class="s2">"Content-Type: application/json"</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--data<span class="w"> </span><span class="s1">'[{"0":5,"1":4,"2":3,"3":2}]'</span><span class="w"> </span>http://0.0.0.0:3000/predict

<span class="c1"># [{"0": 1}]%</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell19">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-9" name="sd-tab-set-4" type="radio">
<label class="sd-tab-label" for="sd-tab-item-9">
Python</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text"><cite>request.py</cite></span><a class="headerlink" href="#id15" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell20"><span></span> <span class="kn">import</span> <span class="nn">requests</span>

 <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
     <span class="s2">"http://0.0.0.0:3000/predict"</span><span class="p">,</span>
     <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">},</span>
     <span class="n">data</span><span class="o">=</span><span class="s1">'[{"0":5,"1":4,"2":3,"3":2}]'</span>
 <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell20">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>orient</strong> – </p><p>Indication of expected JSON string format. Compatible JSON strings can be
produced by <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.io.json.to_json()</span></code> with a corresponding orient value.
Possible orients are:</p>
<ul>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">split</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ {<code class="docutils literal notranslate"><span class="pre">idx</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">[idx]</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">[columns]</span></code>, <code class="docutils literal notranslate"><span class="pre">data</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">[values]</span></code>}</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">records</span></code> - <code class="code docutils literal notranslate"><span class="pre">list[Any]</span></code> ↦ [{<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}, …, {<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}]</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">index</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ {<code class="docutils literal notranslate"><span class="pre">idx</span></code> ↠ {<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}}</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">columns</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ {<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ {<code class="docutils literal notranslate"><span class="pre">index</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}}</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ Values arrays</p></li>
</ul>
<p></p></li>
<li><p><strong>columns</strong> – List of columns name that users wish to update.</p></li>
<li><p><strong>apply_column_names</strong> – Whether to update incoming DataFrame columns. If <code class="code docutils literal notranslate"><span class="pre">apply_column_names=True</span></code>,
then <code class="docutils literal notranslate"><span class="pre">columns</span></code> must be specified.</p></li>
<li><p><strong>dtype</strong> – Data type users wish to convert their inputs/outputs to. If it is a boolean,
then pandas will infer dtypes. Else if it is a dictionary of column to
<code class="docutils literal notranslate"><span class="pre">dtype</span></code>, then applies those to incoming dataframes. If <code class="docutils literal notranslate"><span class="pre">False</span></code>, then don’t
infer dtypes at all (only applies to the data). This is not applicable for <code class="code docutils literal notranslate"><span class="pre">orient='table'</span></code>.</p></li>
<li><p><strong>enforce_dtype</strong> – Whether to enforce a certain data type. if <code class="code docutils literal notranslate"><span class="pre">enforce_dtype=True</span></code> then <code class="code docutils literal notranslate"><span class="pre">dtype</span></code> must be specified.</p></li>
<li><p><strong>shape</strong> – </p><p>Optional shape check that users can specify for their incoming HTTP
requests. We will only check the number of columns you specified for your
given shape:</p>
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id16" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell21"><span></span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
 <span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">PandasSeries</span>

 <span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">PandasSeries</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">51</span><span class="p">,),</span> <span class="n">enforce_shape</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">output</span><span class="o">=</span><span class="n">PandasSeries</span><span class="p">())</span>
 <span class="k">def</span> <span class="nf">infer</span><span class="p">(</span><span class="n">input_series</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">:</span>
      <span class="c1"># if input_series has shape (40,), it will error</span>
      <span class="o">...</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell21">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<p></p></li>
<li><p><strong>enforce_shape</strong> – Whether to enforce a certain shape. If <code class="docutils literal notranslate"><span class="pre">enforce_shape=True</span></code> then <code class="docutils literal notranslate"><span class="pre">shape</span></code> must be specified.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IO Descriptor that represents a <code class="code docutils literal notranslate"><span class="pre">pd.Series</span></code>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bentoml.io.PandasSeries" title="bentoml.io.PandasSeries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PandasSeries</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.PandasSeries.from_sample">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">PandasSeries.</span></span><span class="sig-name descname"><span class="pre">from_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ext.PdSeries</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">t.Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">t.Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">ext.PdSeries</span></span></span><a class="headerlink" href="#bentoml.io.PandasSeries.from_sample" title="Permalink to this definition">#</a></dt>
<dd><p>Create a <a class="reference internal" href="#bentoml.io.PandasSeries" title="bentoml._internal.io_descriptors.pandas.PandasSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">PandasSeries</span></code></a> IO Descriptor from given inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample_input</strong> – Given sample <code class="docutils literal notranslate"><span class="pre">pd.DataFrame</span></code> data</p></li>
<li><p><strong>orient</strong> – </p><p>Indication of expected JSON string format. Compatible JSON strings can be
produced by <code class="xref py py-func docutils literal notranslate"><span class="pre">pandas.io.json.to_json()</span></code> with a corresponding orient value.
Possible orients are:</p>
<ul>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">split</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ {<code class="docutils literal notranslate"><span class="pre">idx</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">[idx]</span></code>, <code class="docutils literal notranslate"><span class="pre">columns</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">[columns]</span></code>, <code class="docutils literal notranslate"><span class="pre">data</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">[values]</span></code>}</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">records</span></code> - <code class="code docutils literal notranslate"><span class="pre">list[Any]</span></code> ↦ [{<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}, …, {<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}]</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">index</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ {<code class="docutils literal notranslate"><span class="pre">idx</span></code> ↠ {<code class="docutils literal notranslate"><span class="pre">column</span></code> ↠ <code class="docutils literal notranslate"><span class="pre">value</span></code>}}</p></li>
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">table</span></code> - <code class="code docutils literal notranslate"><span class="pre">dict[str,</span> <span class="pre">Any]</span></code> ↦ {<code class="docutils literal notranslate"><span class="pre">schema</span></code>: { schema }, <code class="docutils literal notranslate"><span class="pre">data</span></code>: { data }}</p></li>
</ul>
<p></p></li>
<li><p><strong>enforce_dtype</strong> – Enforce a certain data type. <cite>dtype</cite> must be specified at function
signature. If you don’t want to enforce a specific dtype then change
<code class="docutils literal notranslate"><span class="pre">enforce_dtype=False</span></code>.</p></li>
<li><p><strong>enforce_shape</strong> – Enforce a certain shape. <code class="docutils literal notranslate"><span class="pre">shape</span></code> must be specified at function
signature. If you don’t want to enforce a specific shape then change
<code class="docutils literal notranslate"><span class="pre">enforce_shape=False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IODescriptor from given users inputs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bentoml.io.PandasSeries" title="bentoml._internal.io_descriptors.pandas.PandasSeries"><code class="xref py py-class docutils literal notranslate"><span class="pre">PandasSeries</span></code></a></p>
</dd>
</dl>
<p>Example:</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id17" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell22"><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">PandasSeries</span>

<span class="n">arr</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">input_spec</span> <span class="o">=</span> <span class="n">PandasSeries</span><span class="o">.</span><span class="n">from_sample</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">arr</span><span class="p">))</span>

<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">input_spec</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">PandasSeries</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="n">inputs</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">:</span> <span class="o">...</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell22">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.PandasSeries.from_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">PandasSeries.</span></span><span class="sig-name descname"><span class="pre">from_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pb.Series</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">ext.PdSeries</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/pandas.html#PandasSeries.from_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.PandasSeries.from_proto" title="Permalink to this definition">#</a></dt>
<dd><p>Process incoming protobuf request and convert it to <code class="docutils literal notranslate"><span class="pre">pandas.Series</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request</strong> – Incoming RPC request message.</p></li>
<li><p><strong>context</strong> – grpc.ServicerContext</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p></p><dl class="simple">
<dt>a <code class="docutils literal notranslate"><span class="pre">pandas.Series</span></code> object. This can then be used</dt><dd><p>inside users defined logics.</p>
</dd>
</dl>
<p></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.PandasSeries.from_http_request">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">PandasSeries.</span></span><span class="sig-name descname"><span class="pre">from_http_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">ext.PdSeries</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/pandas.html#PandasSeries.from_http_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.PandasSeries.from_http_request" title="Permalink to this definition">#</a></dt>
<dd><p>Process incoming requests and convert incoming objects to <code class="docutils literal notranslate"><span class="pre">pd.Series</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>request</strong> – Incoming Requests</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a <code class="docutils literal notranslate"><span class="pre">pd.Series</span></code> object. This can then be used inside users defined logics.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.PandasSeries.to_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">PandasSeries.</span></span><span class="sig-name descname"><span class="pre">to_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ext.PdSeries</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">pb.Series</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/pandas.html#PandasSeries.to_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.PandasSeries.to_proto" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.PandasSeries.to_http_response">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">PandasSeries.</span></span><span class="sig-name descname"><span class="pre">to_http_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">t.Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Context</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/pandas.html#PandasSeries.to_http_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.PandasSeries.to_http_response" title="Permalink to this definition">#</a></dt>
<dd><p>Process given objects and convert it to HTTP response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> – <cite>pd.Series</cite> that will be serialized to JSON</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>HTTP Response of type <code class="docutils literal notranslate"><span class="pre">starlette.responses.Response</span></code>. This can be accessed via cURL or any external web traffic.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="structured-data-with-json">
<h2>Structured Data with JSON<a class="headerlink" href="#structured-data-with-json" title="Permalink to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For common structure data, we <strong>recommend</strong> using the <code class="xref py py-obj docutils literal notranslate"><span class="pre">JSON</span></code> descriptor, as it provides
the most flexibility. Users can also define a schema of the JSON data via a
<a class="reference external" href="https://pydantic-docs.helpmanual.io/" target="_blank">Pydantic</a> model, and use it to for data
validation.</p>
<p>To use the IO descriptor with pydantic, install bentoml with extra <code class="docutils literal notranslate"><span class="pre">io-json</span></code> dependency:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell23"><span></span>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">"bentoml[io-json]"</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell23">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>This will include BentoML with <a class="reference external" href="https://pydantic-docs.helpmanual.io/" target="_blank">Pydantic</a>
alongside with BentoML</p>
<p>Then proceed to add it to your <code class="code docutils literal notranslate"><span class="pre">bentofile.yaml</span></code>’s under either Python or Conda packages list.</p>
<p>Refer to <a class="hxr-hoverxref hxr-tooltip reference internal tooltipstered" href="../concepts/bento.html#bento-build-options"><span class="std std-ref">Build Options</span></a>. We also provide
<a class="reference external" href="https://github.com/bentoml/BentoML/tree/main/examples/pydantic_validation" target="_blank">an example project</a> using Pydantic for request validation.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-10" name="sd-tab-set-5" type="radio">
<label class="sd-tab-label" for="sd-tab-item-10">
pip</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text"><cite>bentofile.yaml</cite></span><a class="headerlink" href="#id18" title="Permalink to this code">#</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre id="codecell24"><span></span><span class="nn">...</span>
<span class="nt">python</span><span class="p">:</span>
<span class="w">  </span><span class="nt">packages</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pydantic</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell24">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
<input id="sd-tab-item-11" name="sd-tab-set-5" type="radio">
<label class="sd-tab-label" for="sd-tab-item-11">
conda</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text"><cite>bentofile.yaml</cite></span><a class="headerlink" href="#id19" title="Permalink to this code">#</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre id="codecell25"><span></span><span class="nn">...</span>
<span class="nt">conda</span><span class="p">:</span>
<span class="w">  </span><span class="nt">channels</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
<span class="w">  </span><span class="nt">dependencies</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pydantic</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell25">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
<p>Refers to <a class="hxr-hoverxref hxr-tooltip reference internal tooltipstered" href="../concepts/bento.html#bento-build-options"><span class="std std-ref">Build Options</span></a>.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-12" name="sd-tab-set-6" type="radio">
<label class="sd-tab-label" for="sd-tab-item-12">
pip</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text"><cite>bentofile.yaml</cite></span><a class="headerlink" href="#id20" title="Permalink to this code">#</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre id="codecell26"><span></span><span class="nn">...</span>
<span class="nt">python</span><span class="p">:</span>
<span class="w">  </span><span class="nt">packages</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pydantic</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell26">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
<input id="sd-tab-item-13" name="sd-tab-set-6" type="radio">
<label class="sd-tab-label" for="sd-tab-item-13">
conda</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text"><cite>bentofile.yaml</cite></span><a class="headerlink" href="#id21" title="Permalink to this code">#</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre id="codecell27"><span></span><span class="nn">...</span>
<span class="nt">conda</span><span class="p">:</span>
<span class="w">  </span><span class="nt">channels</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
<span class="w">  </span><span class="nt">dependencies</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">pydantic</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell27">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="bentoml.io.JSON">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bentoml.io.</span></span><span class="sig-name descname"><span class="pre">JSON</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pydantic_model:</span> <span class="pre">~typing.Optional[~typing.Type[~pydantic.main.BaseModel]]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate_json:</span> <span class="pre">~typing.Optional[bool]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">json_encoder:</span> <span class="pre">~typing.Type[~json.encoder.JSONEncoder]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'bentoml._internal.io_descriptors.json.DefaultJsonEncoder'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/json.html#JSON"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.JSON" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#bentoml.io.JSON" title="bentoml.io.JSON"><code class="xref py py-obj docutils literal notranslate"><span class="pre">JSON</span></code></a> defines API specification for the inputs/outputs of a Service, where either
inputs will be converted to or outputs will be converted from a JSON representation
as specified in your API function signature.</p>
<p>A sample service implementation:</p>
<div class="literal-block-wrapper docutils container" id="id22">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id22" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell28"><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="nn">typing</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TYPE_CHECKING</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Optional</span>

<span class="kn">import</span> <span class="nn">bentoml</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">NumpyNdarray</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">JSON</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>

<span class="n">iris_clf_runner</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"iris_clf_with_feature_names:latest"</span><span class="p">)</span><span class="o">.</span><span class="n">to_runner</span><span class="p">()</span>

<span class="n">svc</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">Service</span><span class="p">(</span><span class="s2">"iris_classifier_pydantic"</span><span class="p">,</span> <span class="n">runners</span><span class="o">=</span><span class="p">[</span><span class="n">iris_clf_runner</span><span class="p">])</span>

<span class="k">class</span> <span class="nc">IrisFeatures</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">sepal_len</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">sepal_width</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">petal_len</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">petal_width</span><span class="p">:</span> <span class="nb">float</span>

    <span class="c1"># Optional field</span>
    <span class="n">request_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>

    <span class="c1"># Use custom Pydantic config for additional validation options</span>
    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">extra</span> <span class="o">=</span> <span class="s1">'forbid'</span>


<span class="n">input_spec</span> <span class="o">=</span> <span class="n">JSON</span><span class="p">(</span><span class="n">pydantic_model</span><span class="o">=</span><span class="n">IrisFeatures</span><span class="p">)</span>

<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">input_spec</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">classify</span><span class="p">(</span><span class="n">input_data</span><span class="p">:</span> <span class="n">IrisFeatures</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="k">if</span> <span class="n">input_data</span><span class="o">.</span><span class="n">request_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Received request ID: "</span><span class="p">,</span> <span class="n">input_data</span><span class="o">.</span><span class="n">request_id</span><span class="p">)</span>

    <span class="n">input_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">input_data</span><span class="o">.</span><span class="n">dict</span><span class="p">(</span><span class="n">exclude</span><span class="o">=</span><span class="p">{</span><span class="s2">"request_id"</span><span class="p">})])</span>
    <span class="k">return</span> <span class="n">iris_clf_runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">input_df</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell28">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<p>Users then can then serve this service with <code class="code docutils literal notranslate"><span class="pre">bentoml</span> <span class="pre">serve</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell29"><span></span>%<span class="w"> </span>bentoml<span class="w"> </span>serve<span class="w"> </span>./service.py:svc<span class="w"> </span>--reload
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell29">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Users can then send requests to the newly started services with any client:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-14" name="sd-tab-set-7" type="radio">
<label class="sd-tab-label" for="sd-tab-item-14">
Bash</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell30"><span></span>%<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>-H<span class="w"> </span><span class="s2">"content-type: application/json"</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--data<span class="w"> </span><span class="s1">'{"sepal_len": 6.2, "sepal_width": 3.2, "petal_len": 5.2, "petal_width": 2.2}'</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>http://127.0.0.1:3000/classify

<span class="c1"># [2]%</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell30">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-15" name="sd-tab-set-7" type="radio">
<label class="sd-tab-label" for="sd-tab-item-15">
Python</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id23">
<div class="code-block-caption"><span class="caption-text"><cite>request.py</cite></span><a class="headerlink" href="#id23" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell31"><span></span> <span class="kn">import</span> <span class="nn">requests</span>

 <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
     <span class="s2">"http://0.0.0.0:3000/predict"</span><span class="p">,</span>
     <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"application/json"</span><span class="p">},</span>
     <span class="n">data</span><span class="o">=</span><span class="s1">'{"sepal_len": 6.2, "sepal_width": 3.2, "petal_len": 5.2, "petal_width": 2.2}'</span>
 <span class="p">)</span><span class="o">.</span><span class="n">text</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell31">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pydantic_model</strong> – Pydantic model schema. When used, inference API callback
will receive an instance of the specified <code class="docutils literal notranslate"><span class="pre">pydantic_model</span></code> class.</p></li>
<li><p><strong>json_encoder</strong> – JSON encoder class. By default BentoML implements a custom JSON encoder that
provides additional serialization supports for numpy arrays, pandas dataframes,
dataclass-like (<a class="reference external" href="https://www.attrs.org/en/stable/" target="_blank">attrs</a>, dataclass, etc.).
If you wish to use a custom encoder, make sure to support the aforementioned object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IO Descriptor that represents JSON format.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bentoml.io.JSON" title="bentoml.io.JSON"><code class="xref py py-obj docutils literal notranslate"><span class="pre">JSON</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.JSON.from_sample">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">JSON.</span></span><span class="sig-name descname"><span class="pre">from_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">BaseModel</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">BaseModel</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#bentoml.io.JSON.from_sample" title="Permalink to this definition">#</a></dt>
<dd><p>Create a <a class="reference internal" href="#bentoml.io.JSON" title="bentoml._internal.io_descriptors.json.JSON"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSON</span></code></a> IO Descriptor from given inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample</strong> – </p><p>A JSON-like datatype, which can be either dict, str, list.
<code class="docutils literal notranslate"><span class="pre">sample</span></code> will also accepting a Pydantic model.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell32"><span></span><span class="kn">from</span> <span class="nn">pydantic</span> <span class="kn">import</span> <span class="n">BaseModel</span>

<span class="k">class</span> <span class="nc">IrisFeatures</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">sepal_len</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">sepal_width</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">petal_len</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">petal_width</span><span class="p">:</span> <span class="nb">float</span>

<span class="n">input_spec</span> <span class="o">=</span> <span class="n">JSON</span><span class="o">.</span><span class="n">from_sample</span><span class="p">(</span>
    <span class="n">IrisFeatures</span><span class="p">(</span><span class="n">sepal_len</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">sepal_width</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">petal_len</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">petal_width</span><span class="o">=</span><span class="mf">4.0</span><span class="p">)</span>
<span class="p">)</span>

<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">input_spec</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">())</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="nb">input</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">int16</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">async_run</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell32">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p></p></li>
<li><p><strong>json_encoder</strong> – Optional JSON encoder.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IODescriptor from given users inputs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bentoml.io.JSON" title="bentoml._internal.io_descriptors.json.JSON"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSON</span></code></a></p>
</dd>
</dl>
<p>Example:</p>
<div class="literal-block-wrapper docutils container" id="id24">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id24" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell33"><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="nn">bentoml</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">JSON</span>

<span class="n">input_spec</span> <span class="o">=</span> <span class="n">JSON</span><span class="o">.</span><span class="n">from_sample</span><span class="p">({</span><span class="s2">"Hello"</span><span class="p">:</span> <span class="s2">"World"</span><span class="p">,</span> <span class="s2">"foo"</span><span class="p">:</span> <span class="s2">"bar"</span><span class="p">})</span>
<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">input_spec</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">JSON</span><span class="p">())</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="nb">input</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">async_run</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell33">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="exceptions.html#bentoml.exceptions.BadInput" title="bentoml.exceptions.BadInput"><strong>BadInput</strong></a> – Given sample is not a valid JSON string, bytes, or supported nest types.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.JSON.from_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">JSON.</span></span><span class="sig-name descname"><span class="pre">from_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">google.protobuf.struct_pb2.Value</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">BaseModel</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/json.html#JSON.from_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.JSON.from_proto" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.JSON.from_http_request">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">JSON.</span></span><span class="sig-name descname"><span class="pre">from_http_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">BaseModel</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/json.html#JSON.from_http_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.JSON.from_http_request" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.JSON.to_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">JSON.</span></span><span class="sig-name descname"><span class="pre">to_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Optional" target="_blank"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">BaseModel</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Value</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/json.html#JSON.to_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.JSON.to_proto" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.JSON.to_http_response">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">JSON.</span></span><span class="sig-name descname"><span class="pre">to_http_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">JSONType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pydantic.BaseModel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Context</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/json.html#JSON.to_http_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.JSON.to_http_response" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="texts">
<h2>Texts<a class="headerlink" href="#texts" title="Permalink to this heading">#</a></h2>
<p><code class="code docutils literal notranslate"><span class="pre">bentoml.io.Text</span></code> is commonly used for NLP Applications:</p>
<dl class="py class">
<dt class="sig sig-object py" id="bentoml.io.Text">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bentoml.io.</span></span><span class="sig-name descname"><span class="pre">Text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank"><span class="pre">Any</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank"><span class="pre">Any</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/text.html#Text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Text" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#bentoml.io.Text" title="bentoml.io.Text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Text</span></code></a> defines API specification for the inputs/outputs of a Service. <a class="reference internal" href="#bentoml.io.Text" title="bentoml.io.Text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Text</span></code></a>
represents strings for all incoming requests/outcoming responses as specified in
your API function signature.</p>
<p>A sample GPT2 service implementation:</p>
<div class="literal-block-wrapper docutils container" id="id25">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id25" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell34"><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="nn">bentoml</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">Text</span>

<span class="n">runner</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">tensorflow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'gpt2:latest'</span><span class="p">)</span><span class="o">.</span><span class="n">to_runner</span><span class="p">()</span>

<span class="n">svc</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">Service</span><span class="p">(</span><span class="s2">"gpt2-generation"</span><span class="p">,</span> <span class="n">runners</span><span class="o">=</span><span class="p">[</span><span class="n">runner</span><span class="p">])</span>

<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">Text</span><span class="p">(),</span> <span class="n">output</span><span class="o">=</span><span class="n">Text</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span><span class="p">[</span><span class="s1">'generated_text'</span><span class="p">]</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell34">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<p>Users then can then serve this service with <code class="code docutils literal notranslate"><span class="pre">bentoml</span> <span class="pre">serve</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell35"><span></span>%<span class="w"> </span>bentoml<span class="w"> </span>serve<span class="w"> </span>./service.py:svc<span class="w"> </span>--reload
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell35">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Users can then send requests to the newly started services with any client:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-16" name="sd-tab-set-8" type="radio">
<label class="sd-tab-label" for="sd-tab-item-16">
Bash</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell36"><span></span>%<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>-H<span class="w"> </span><span class="s2">"Content-Type: text/plain"</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>--data<span class="w"> </span><span class="s1">'Not for nothing did Orin say that people outdoors.'</span><span class="w"> </span><span class="se">\</span>
<span class="w">        </span>http://0.0.0.0:3000/predict
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell36">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-17" name="sd-tab-set-8" type="radio">
<label class="sd-tab-label" for="sd-tab-item-17">
Python</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id26">
<div class="code-block-caption"><span class="caption-text"><cite>request.py</cite></span><a class="headerlink" href="#id26" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell37"><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s2">"http://0.0.0.0:3000/predict"</span><span class="p">,</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"content-type"</span><span class="p">:</span><span class="s2">"text/plain"</span><span class="p">},</span>
    <span class="n">data</span> <span class="o">=</span> <span class="s1">'Not for nothing did Orin say that people outdoors.'</span>
<span class="p">)</span><span class="o">.</span><span class="n">text</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell37">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#bentoml.io.Text" title="bentoml.io.Text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Text</span></code></a> is not designed to take any <code class="docutils literal notranslate"><span class="pre">args</span></code> or <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> during initialization.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>IO Descriptor that represents strings type.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#bentoml.io.Text" title="bentoml.io.Text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Text</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Text.from_sample">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Text.</span></span><span class="sig-name descname"><span class="pre">from_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a></span></span><a class="headerlink" href="#bentoml.io.Text.from_sample" title="Permalink to this definition">#</a></dt>
<dd><p>Create a <a class="reference internal" href="#bentoml.io.Text" title="bentoml._internal.io_descriptors.text.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a> IO Descriptor from given inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sample</strong> – Given sample text.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IODescriptor from given users inputs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bentoml.io.Text" title="bentoml.io.Text"><code class="xref py py-class docutils literal notranslate"><span class="pre">Text</span></code></a></p>
</dd>
</dl>
<p>Example:</p>
<div class="literal-block-wrapper docutils container" id="id27">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id27" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell38"><span></span><span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">bentoml</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">Text</span><span class="o">.</span><span class="n">from_sample</span><span class="p">(</span><span class="s1">'Bento box is'</span><span class="p">),</span> <span class="n">output</span><span class="o">=</span><span class="n">bentoml</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">Text</span><span class="p">())</span>
<span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="n">inputs</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span> <span class="o">...</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell38">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Text.from_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Text.</span></span><span class="sig-name descname"><span class="pre">from_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">google.protobuf.wrappers_pb2.StringValue</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/text.html#Text.from_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Text.from_proto" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Text.from_http_request">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Text.</span></span><span class="sig-name descname"><span class="pre">from_http_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/text.html#Text.from_http_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Text.from_http_request" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Text.to_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Text.</span></span><span class="sig-name descname"><span class="pre">to_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">StringValue</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/text.html#Text.to_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Text.to_proto" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Text.to_http_response">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Text.</span></span><span class="sig-name descname"><span class="pre">to_http_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Context</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/text.html#Text.to_http_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Text.to_http_response" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="images">
<h2>Images<a class="headerlink" href="#images" title="Permalink to this heading">#</a></h2>
<p>To use the IO descriptor, install bentoml with extra <code class="docutils literal notranslate"><span class="pre">io-image</span></code> dependency:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell39"><span></span>pip<span class="w"> </span>install<span class="w"> </span><span class="s2">"bentoml[io-image]"</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell39">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="code docutils literal notranslate"><span class="pre">Pillow</span></code> package is required to use the <a class="reference internal" href="#bentoml.io.Image" title="bentoml.io.Image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bentoml.io.Image</span></code></a>.</p>
<p>Install it with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">Pillow</span></code> and add it to your <code class="code docutils literal notranslate"><span class="pre">bentofile.yaml</span></code>’s under either Python or Conda packages list.</p>
<p>Refer to <a class="hxr-hoverxref hxr-tooltip reference internal tooltipstered" href="../concepts/bento.html#bento-build-options"><span class="std std-ref">Build Options</span></a>.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-18" name="sd-tab-set-9" type="radio">
<label class="sd-tab-label" for="sd-tab-item-18">
pip</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id28">
<div class="code-block-caption"><span class="caption-text"><cite>bentofile.yaml</cite></span><a class="headerlink" href="#id28" title="Permalink to this code">#</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre id="codecell40"><span></span><span class="nn">...</span>
<span class="nt">python</span><span class="p">:</span>
<span class="w">  </span><span class="nt">packages</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Pillow</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell40">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
<input id="sd-tab-item-19" name="sd-tab-set-9" type="radio">
<label class="sd-tab-label" for="sd-tab-item-19">
conda</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id29">
<div class="code-block-caption"><span class="caption-text"><cite>bentofile.yaml</cite></span><a class="headerlink" href="#id29" title="Permalink to this code">#</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre id="codecell41"><span></span><span class="nn">...</span>
<span class="nt">conda</span><span class="p">:</span>
<span class="w">  </span><span class="nt">channels</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">conda-forge</span>
<span class="w">  </span><span class="nt">dependencies</span><span class="p">:</span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Pillow</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell41">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="bentoml.io.Image">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bentoml.io.</span></span><span class="sig-name descname"><span class="pre">Image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pilmode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_Mode</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'RGB'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mime_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'image/jpeg'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allowed_mime_types</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">t.Iterable</span><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/image.html#Image"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Image" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#bentoml.io.Image" title="bentoml.io.Image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Image</span></code></a> defines API specification for the inputs/outputs of a Service, where either
inputs will be converted to or outputs will be converted from images as specified
in your API function signature.</p>
<p>A sample object detection service:</p>
<div class="literal-block-wrapper docutils container" id="id30">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id30" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell42"><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TYPE_CHECKING</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>

<span class="kn">import</span> <span class="nn">bentoml</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">NumpyNdarray</span>

<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">PIL.Image</span> <span class="kn">import</span> <span class="n">Image</span>
    <span class="kn">from</span> <span class="nn">numpy.typing</span> <span class="kn">import</span> <span class="n">NDArray</span>

<span class="n">runner</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">tensorflow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'image-classification:latest'</span><span class="p">)</span><span class="o">.</span><span class="n">to_runner</span><span class="p">()</span>

<span class="n">svc</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">Service</span><span class="p">(</span><span class="s2">"vit-object-detection"</span><span class="p">,</span> <span class="n">runners</span><span class="o">=</span><span class="p">[</span><span class="n">runner</span><span class="p">])</span>

<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">Image</span><span class="p">(),</span> <span class="n">output</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="s2">"float32"</span><span class="p">))</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">predict_image</span><span class="p">(</span><span class="n">f</span><span class="p">:</span> <span class="n">Image</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">Image</span><span class="p">)</span>
    <span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="o">/</span> <span class="mf">255.0</span>
    <span class="k">assert</span> <span class="n">arr</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">28</span><span class="p">,</span> <span class="mi">28</span><span class="p">)</span>

    <span class="c1"># We are using greyscale image and our PyTorch model expect one</span>
    <span class="c1"># extra channel dimension</span>
    <span class="n">arr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">expand_dims</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">"float32"</span><span class="p">)</span>  <span class="c1"># reshape to [1, 28, 28, 1]</span>
    <span class="k">return</span> <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">async_run</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell42">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<p>Users then can then serve this service with <code class="code docutils literal notranslate"><span class="pre">bentoml</span> <span class="pre">serve</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell43"><span></span>%<span class="w"> </span>bentoml<span class="w"> </span>serve<span class="w"> </span>./service.py:svc<span class="w"> </span>--reload
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell43">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Users can then send requests to the newly started services with any client:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-20" name="sd-tab-set-10" type="radio">
<label class="sd-tab-label" for="sd-tab-item-20">
Bash</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell44"><span></span><span class="c1"># we will run on our input image test.png</span>
<span class="c1"># image can get from http://images.cocodataset.org/val2017/000000039769.jpg</span>
%<span class="w"> </span>curl<span class="w"> </span>-H<span class="w"> </span><span class="s2">"Content-Type: multipart/form-data"</span><span class="w"> </span><span class="se">\</span>
<span class="w">       </span>-F<span class="w"> </span><span class="s1">'fileobj=@test.jpg;type=image/jpeg'</span><span class="w"> </span><span class="se">\</span>
<span class="w">       </span>http://0.0.0.0:3000/predict_image

<span class="c1"># [{"score":0.8610631227493286,"label":"Egyptian cat"},</span>
<span class="c1"># {"score":0.08770329505205154,"label":"tabby, tabby cat"},</span>
<span class="c1"># {"score":0.03540956228971481,"label":"tiger cat"},</span>
<span class="c1"># {"score":0.004140055272728205,"label":"lynx, catamount"},</span>
<span class="c1"># {"score":0.0009498853469267488,"label":"Siamese cat, Siamese"}]%</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell44">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-21" name="sd-tab-set-10" type="radio">
<label class="sd-tab-label" for="sd-tab-item-21">
Python</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id31">
<div class="code-block-caption"><span class="caption-text"><cite>request.py</cite></span><a class="headerlink" href="#id31" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell45"><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s2">"http://0.0.0.0:3000/predict_image"</span><span class="p">,</span>
    <span class="n">files</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"upload_file"</span><span class="p">:</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'test.jpg'</span><span class="p">,</span> <span class="s1">'rb'</span><span class="p">)},</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"multipart/form-data"</span><span class="p">}</span>
<span class="p">)</span><span class="o">.</span><span class="n">text</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell45">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pilmode</strong> – Color mode for PIL. Default to <code class="docutils literal notranslate"><span class="pre">RGB</span></code>.</p></li>
<li><p><strong>mime_type</strong> – The MIME type of the file type that this descriptor should return. Only relevant when used as an output descriptor.</p></li>
<li><p><strong>allowed_mime_types</strong> – A list of MIME types to restrict input to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IO Descriptor that either a <code class="code docutils literal notranslate"><span class="pre">PIL.Image.Image</span></code> or a <code class="code docutils literal notranslate"><span class="pre">np.ndarray</span></code> representing an image.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bentoml.io.Image" title="bentoml.io.Image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Image.from_sample">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">from_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ImageType</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">ImageType</span></span></span><a class="headerlink" href="#bentoml.io.Image.from_sample" title="Permalink to this definition">#</a></dt>
<dd><p>Create a <a class="reference internal" href="#bentoml.io.Image" title="bentoml._internal.io_descriptors.image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a> IO Descriptor from given inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample</strong> – Given File-like object, or a path to a file.</p></li>
<li><p><strong>pilmode</strong> – Optional color mode for PIL. Default to <code class="docutils literal notranslate"><span class="pre">RGB</span></code>.</p></li>
<li><p><strong>mime_type</strong> – The MIME type of the file type that this descriptor should return.
If not specified, then <code class="docutils literal notranslate"><span class="pre">from_sample</span></code> will try to infer the MIME type
from file extension.</p></li>
<li><p><strong>allowed_mime_types</strong> – An optional list of MIME types to restrict input to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IODescriptor from given users inputs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bentoml.io.Image" title="bentoml._internal.io_descriptors.image.Image"><code class="xref py py-class docutils literal notranslate"><span class="pre">Image</span></code></a></p>
</dd>
</dl>
<p>Example:</p>
<div class="literal-block-wrapper docutils container" id="id32">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id32" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell46"><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="nn">bentoml</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="n">input_spec</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">from_sample</span><span class="p">(</span><span class="s2">"/path/to/image.jpg"</span><span class="p">)</span>
<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">input_spec</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">Image</span><span class="p">())</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="nb">input</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">IO</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">IO</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">async_run</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell46">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#bentoml.exceptions.InvalidArgument" title="bentoml.exceptions.InvalidArgument"><strong>InvalidArgument</strong></a> – If the given sample is not a valid image type.</p></li>
<li><p><a class="reference internal" href="exceptions.html#bentoml.exceptions.MissingDependencyException" title="bentoml.exceptions.MissingDependencyException"><strong>MissingDependencyException</strong></a> – If <code class="docutils literal notranslate"><span class="pre">filetype</span></code> is not installed.</p></li>
<li><p><a class="reference internal" href="exceptions.html#bentoml.exceptions.BadInput" title="bentoml.exceptions.BadInput"><strong>BadInput</strong></a> – Given sample from file can’t be parsed with Pillow.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Image.from_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">from_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">pb.File</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">pb_v1alpha1.File</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">ImageType</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/image.html#Image.from_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Image.from_proto" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Image.from_http_request">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">from_http_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">ImageType</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/image.html#Image.from_http_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Image.from_http_request" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Image.to_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">to_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ImageType</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">pb.File</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/image.html#Image.to_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Image.to_proto" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Image.to_http_response">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Image.</span></span><span class="sig-name descname"><span class="pre">to_http_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ImageType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Context</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/image.html#Image.to_http_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Image.to_http_response" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="files">
<h2>Files<a class="headerlink" href="#files" title="Permalink to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bentoml.io.File">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bentoml.io.</span></span><span class="sig-name descname"><span class="pre">File</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FileKind</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'binaryio'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mime_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">t.Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/file.html#File"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.File" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#bentoml.io.File" title="bentoml.io.File"><code class="xref py py-obj docutils literal notranslate"><span class="pre">File</span></code></a> defines API specification for the inputs/outputs of a Service, where either
inputs will be converted to or outputs will be converted from file-like objects as
specified in your API function signature.</p>
<p>A sample ViT service:</p>
<div class="literal-block-wrapper docutils container" id="id33">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id33" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell47"><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TYPE_CHECKING</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>

<span class="kn">import</span> <span class="nn">bentoml</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">File</span>

<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">numpy.typing</span> <span class="kn">import</span> <span class="n">NDArray</span>

<span class="n">runner</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">tensorflow</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">'image-classification:latest'</span><span class="p">)</span><span class="o">.</span><span class="n">to_runner</span><span class="p">()</span>

<span class="n">svc</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">Service</span><span class="p">(</span><span class="s2">"vit-pdf-classifier"</span><span class="p">,</span> <span class="n">runners</span><span class="o">=</span><span class="p">[</span><span class="n">runner</span><span class="p">])</span>

<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">File</span><span class="p">(),</span> <span class="n">output</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="s2">"float32"</span><span class="p">))</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="n">input_pdf</span><span class="p">:</span> <span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">[</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">async_run</span><span class="p">(</span><span class="n">input_pdf</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell47">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<p>Users then can then serve this service with <code class="code docutils literal notranslate"><span class="pre">bentoml</span> <span class="pre">serve</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell48"><span></span>%<span class="w"> </span>bentoml<span class="w"> </span>serve<span class="w"> </span>./service.py:svc<span class="w"> </span>--reload
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell48">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Users can then send requests to the newly started services with any client:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-22" name="sd-tab-set-11" type="radio">
<label class="sd-tab-label" for="sd-tab-item-22">
Bash</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell49"><span></span>%<span class="w"> </span>curl<span class="w"> </span>-H<span class="w"> </span><span class="s2">"Content-Type: multipart/form-data"</span><span class="w"> </span><span class="se">\</span>
<span class="w">       </span>-F<span class="w"> </span><span class="s1">'fileobj=@test.pdf;type=application/pdf'</span><span class="w"> </span><span class="se">\</span>
<span class="w">       </span>http://0.0.0.0:3000/predict
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell49">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-23" name="sd-tab-set-11" type="radio">
<label class="sd-tab-label" for="sd-tab-item-23">
Python</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id34">
<div class="code-block-caption"><span class="caption-text"><cite>request.py</cite></span><a class="headerlink" href="#id34" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell50"><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s2">"http://0.0.0.0:3000/predict"</span><span class="p">,</span>
    <span class="n">files</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"upload_file"</span><span class="p">:</span> <span class="nb">open</span><span class="p">(</span><span class="s1">'test.pdf'</span><span class="p">,</span> <span class="s1">'rb'</span><span class="p">)},</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"content-type"</span><span class="p">:</span> <span class="s2">"multipart/form-data"</span><span class="p">}</span>
<span class="p">)</span><span class="o">.</span><span class="n">text</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell50">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> – The kind of file-like object to be used. Currently, the only accepted value is <code class="docutils literal notranslate"><span class="pre">binaryio</span></code>.</p></li>
<li><p><strong>mime_type</strong> – Return MIME type of the <code class="code docutils literal notranslate"><span class="pre">starlette.response.Response</span></code>, only available when used as output descriptor</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IO Descriptor that represents file-like objects.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bentoml.io.File" title="bentoml.io.File"><code class="xref py py-obj docutils literal notranslate"><span class="pre">File</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.File.from_sample">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">File.</span></span><span class="sig-name descname"><span class="pre">from_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sample</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/io.html#io.IOBase" target="_blank"><span class="pre">IOBase</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.IO" target="_blank"><span class="pre">IO</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FileLike</span><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/io.html#io.IOBase" target="_blank"><span class="pre">IOBase</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.IO" target="_blank"><span class="pre">IO</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FileLike</span><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#bentoml.io.File.from_sample" title="Permalink to this definition">#</a></dt>
<dd><p>Create a <a class="reference internal" href="#bentoml.io.File" title="bentoml._internal.io_descriptors.file.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a> IO Descriptor from given inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sample</strong> – Given File-like object, or a path to a file.</p></li>
<li><p><strong>kind</strong> – The kind of file-like object to be used. Currently, the only accepted value is <code class="docutils literal notranslate"><span class="pre">binaryio</span></code>.</p></li>
<li><p><strong>mime_type</strong> – Optional MIME type for the descriptor. If not provided, <code class="docutils literal notranslate"><span class="pre">from_sample</span></code>
will try to infer the MIME type from the file extension.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IODescriptor from given users inputs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bentoml.io.File" title="bentoml._internal.io_descriptors.file.File"><code class="xref py py-class docutils literal notranslate"><span class="pre">File</span></code></a></p>
</dd>
</dl>
<p>Example:</p>
<div class="literal-block-wrapper docutils container" id="id35">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id35" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell51"><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">import</span> <span class="nn">bentoml</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">File</span>

<span class="n">input_spec</span> <span class="o">=</span> <span class="n">File</span><span class="o">.</span><span class="n">from_sample</span><span class="p">(</span><span class="s2">"/path/to/file.pdf"</span><span class="p">)</span>
<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">input_spec</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">File</span><span class="p">())</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="nb">input</span><span class="p">:</span> <span class="n">t</span><span class="o">.</span><span class="n">IO</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">IO</span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">Any</span><span class="p">]:</span>
    <span class="k">return</span> <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">async_run</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell51">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="exceptions.html#bentoml.exceptions.MissingDependencyException" title="bentoml.exceptions.MissingDependencyException"><strong>MissingDependencyException</strong></a> – If <code class="docutils literal notranslate"><span class="pre">filetype</span></code> is not installed.</p></li>
<li><p><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/exceptions.html#ValueError" target="_blank"><strong>ValueError</strong></a> – If the MIME type cannot be inferred automatically.</p></li>
<li><p><a class="reference internal" href="exceptions.html#bentoml.exceptions.BadInput" title="bentoml.exceptions.BadInput"><strong>BadInput</strong></a> – Any other errors that may occur during the process of figure out the MIME type.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.File.from_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">File.</span></span><span class="sig-name descname"><span class="pre">from_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bentoml.grpc.v1.service_pb2.File</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">FileLike</span><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/file.html#File.from_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.File.from_proto" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.File.from_http_request">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">File.</span></span><span class="sig-name descname"><span class="pre">from_http_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">FileLike</span><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/file.html#File.from_http_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.File.from_http_request" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.File.to_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">File.</span></span><span class="sig-name descname"><span class="pre">to_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/io.html#io.IOBase" target="_blank"><span class="pre">IOBase</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.IO" target="_blank"><span class="pre">IO</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FileLike</span><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#bytes" target="_blank"><span class="pre">bytes</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">File</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/file.html#File.to_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.File.to_proto" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.File.to_http_response">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">File.</span></span><span class="sig-name descname"><span class="pre">to_http_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">FileType</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Context</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/file.html#File.to_http_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.File.to_http_response" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="multipart-payloads">
<h2>Multipart Payloads<a class="headerlink" href="#multipart-payloads" title="Permalink to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="code docutils literal notranslate"><span class="pre">Multipart</span></code> makes it possible to compose a multipart payload from multiple
other IO Descriptor instances. For example, you may create a Multipart input that
contains a image file and additional metadata in JSON.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="bentoml.io.Multipart">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bentoml.io.</span></span><span class="sig-name descname"><span class="pre">Multipart</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">inputs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#bentoml.io.IODescriptor" title="bentoml._internal.io_descriptors.base.IODescriptor"><span class="pre">IODescriptor</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/multipart.html#Multipart"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Multipart" title="Permalink to this definition">#</a></dt>
<dd><p><a class="reference internal" href="#bentoml.io.Multipart" title="bentoml.io.Multipart"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Multipart</span></code></a> defines API specification for the inputs/outputs of a Service, where inputs/outputs
of a Service can receive/send a <strong>multipart</strong> request/responses as specified in your API function signature.</p>
<p>A sample service implementation:</p>
<div class="literal-block-wrapper docutils container" id="id36">
<div class="code-block-caption"><span class="caption-text"><cite>service.py</cite></span><a class="headerlink" href="#id36" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell52"><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">TYPE_CHECKING</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>

<span class="kn">import</span> <span class="nn">bentoml</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">NumpyNdarray</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">Multipart</span>
<span class="kn">from</span> <span class="nn">bentoml.io</span> <span class="kn">import</span> <span class="n">JSON</span>

<span class="k">if</span> <span class="n">TYPE_CHECKING</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">numpy.typing</span> <span class="kn">import</span> <span class="n">NDArray</span>

<span class="n">runner</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">"sklearn_model_clf"</span><span class="p">)</span><span class="o">.</span><span class="n">to_runner</span><span class="p">()</span>

<span class="n">svc</span> <span class="o">=</span> <span class="n">bentoml</span><span class="o">.</span><span class="n">Service</span><span class="p">(</span><span class="s2">"iris-classifier"</span><span class="p">,</span> <span class="n">runners</span><span class="o">=</span><span class="p">[</span><span class="n">runner</span><span class="p">])</span>

<span class="n">input_spec</span> <span class="o">=</span> <span class="n">Multipart</span><span class="p">(</span><span class="n">arr</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">(),</span> <span class="n">annotations</span><span class="o">=</span><span class="n">JSON</span><span class="p">())</span>
<span class="n">output_spec</span> <span class="o">=</span> <span class="n">Multipart</span><span class="p">(</span><span class="n">output</span><span class="o">=</span><span class="n">NumpyNdarray</span><span class="p">(),</span> <span class="n">result</span><span class="o">=</span><span class="n">JSON</span><span class="p">())</span>

<span class="nd">@svc</span><span class="o">.</span><span class="n">api</span><span class="p">(</span><span class="nb">input</span><span class="o">=</span><span class="n">input_spec</span><span class="p">,</span> <span class="n">output</span><span class="o">=</span><span class="n">output_spec</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">predict</span><span class="p">(</span>
    <span class="n">arr</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">Any</span><span class="p">],</span> <span class="n">annotations</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">|</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]]:</span>
    <span class="n">res</span> <span class="o">=</span> <span class="k">await</span> <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">{</span><span class="s2">"output"</span><span class="p">:</span> <span class="n">res</span><span class="p">,</span> <span class="s2">"result"</span><span class="p">:</span> <span class="n">annotations</span><span class="p">}</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell52">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<p>Users then can then serve this service with <code class="code docutils literal notranslate"><span class="pre">bentoml</span> <span class="pre">serve</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell53"><span></span>%<span class="w"> </span>bentoml<span class="w"> </span>serve<span class="w"> </span>./service.py:svc<span class="w"> </span>--reload
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell53">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Users can then send requests to the newly started services with any client:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-24" name="sd-tab-set-12" type="radio">
<label class="sd-tab-label" for="sd-tab-item-24">
Bash</label><div class="sd-tab-content docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell54"><span></span>%<span class="w"> </span>curl<span class="w"> </span>-X<span class="w"> </span>POST<span class="w"> </span>-H<span class="w"> </span><span class="s2">"Content-Type: multipart/form-data"</span><span class="w"> </span><span class="se">\</span>
<span class="w">       </span>-F<span class="w"> </span><span class="nv">annotations</span><span class="o">=</span>@test.json<span class="w"> </span>-F<span class="w"> </span><span class="nv">arr</span><span class="o">=</span><span class="s1">'[5,4,3,2]'</span><span class="w"> </span><span class="se">\</span>
<span class="w">       </span>http://0.0.0.0:3000/predict

<span class="c1"># --b1d72c201a064ecd92a17a412eb9208e</span>
<span class="c1"># Content-Disposition: form-data; name="output"</span>
<span class="c1"># content-length: 1</span>
<span class="c1"># content-type: application/json</span>

<span class="c1"># 1</span>
<span class="c1"># --b1d72c201a064ecd92a17a412eb9208e</span>
<span class="c1"># Content-Disposition: form-data; name="result"</span>
<span class="c1"># content-length: 13</span>
<span class="c1"># content-type: application/json</span>

<span class="c1"># {"foo":"bar"}</span>
<span class="c1"># --b1d72c201a064ecd92a17a412eb9208e--</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell54">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
<input id="sd-tab-item-25" name="sd-tab-set-12" type="radio">
<label class="sd-tab-label" for="sd-tab-item-25">
Python</label><div class="sd-tab-content docutils">
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following code snippet uses <a class="reference external" href="https://github.com/requests/toolbelt" target="_blank">requests_toolbelt</a>.
Install with <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">requests-toolbelt</span></code>.</p>
</div>
<div class="literal-block-wrapper docutils container" id="id37">
<div class="code-block-caption"><span class="caption-text"><cite>request.py</cite></span><a class="headerlink" href="#id37" title="Permalink to this code">#</a></div>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell55"><span></span><span class="kn">import</span> <span class="nn">requests</span>

<span class="kn">from</span> <span class="nn">requests_toolbelt.multipart.encoder</span> <span class="kn">import</span> <span class="n">MultipartEncoder</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">MultipartEncoder</span><span class="p">(</span>
    <span class="n">fields</span><span class="o">=</span><span class="p">{</span>
        <span class="s2">"field0"</span><span class="p">:</span> <span class="s2">"value"</span><span class="p">,</span>
        <span class="s2">"field1"</span><span class="p">:</span> <span class="s2">"value"</span><span class="p">,</span>
        <span class="s2">"field2"</span><span class="p">:</span> <span class="p">(</span><span class="s2">"filename"</span><span class="p">,</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"test.json"</span><span class="p">,</span> <span class="s2">"rb"</span><span class="p">),</span> <span class="s2">"application/json"</span><span class="p">),</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
    <span class="s2">"http://0.0.0.0:3000/predict"</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">"Content-Type"</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">content_type</span><span class="p">}</span>
<span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell55">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</div>
</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inputs</strong> – </p><p>Dictionary consisting keys as inputs definition for a Multipart
request/response, values as IODescriptor supported by BentoML. Currently,
<a class="reference internal" href="#bentoml.io.Multipart" title="bentoml.io.Multipart"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Multipart</span></code></a> supports <a class="reference internal" href="#bentoml.io.Image" title="bentoml.io.Image"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Image</span></code></a>, <a class="reference internal" href="#bentoml.io.NumpyNdarray" title="bentoml.io.NumpyNdarray"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NumpyNdarray</span></code></a>, <a class="reference internal" href="#bentoml.io.PandasDataFrame" title="bentoml.io.PandasDataFrame"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PandasDataFrame</span></code></a>, <a class="reference internal" href="#bentoml.io.PandasSeries" title="bentoml.io.PandasSeries"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PandasSeries</span></code></a>, <a class="reference internal" href="#bentoml.io.Text" title="bentoml.io.Text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Text</span></code></a>,
and <a class="reference internal" href="#bentoml.io.File" title="bentoml.io.File"><code class="xref py py-obj docutils literal notranslate"><span class="pre">File</span></code></a>.</p>
<p>Make sure to match the input parameters in function signatures in an API function to the keys defined
under <a class="reference internal" href="#bentoml.io.Multipart" title="bentoml.io.Multipart"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Multipart</span></code></a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre id="codecell56"><span></span>+----------------------------------------------------------------+
<span class="p">|</span><span class="w">                                                                </span><span class="p">|</span>
<span class="p">|</span><span class="w">   </span>+--------------------------------------------------------+<span class="w">   </span><span class="p">|</span>
<span class="p">|</span><span class="w">   </span><span class="p">|</span><span class="w">                                                        </span><span class="p">|</span><span class="w">   </span><span class="p">|</span>
<span class="p">|</span><span class="w">   </span><span class="p">|</span><span class="w">    </span>Multipart<span class="o">(</span><span class="nv">arr</span><span class="o">=</span>NumpyNdarray<span class="o">()</span>,<span class="w"> </span><span class="nv">annotations</span><span class="o">=</span>JSON<span class="o">())</span><span class="w">   </span><span class="p">|</span><span class="w">   </span><span class="p">|</span>
<span class="p">|</span><span class="w">   </span><span class="p">|</span><span class="w">               </span><span class="p">|</span><span class="w">                       </span><span class="p">|</span><span class="w">                </span><span class="p">|</span><span class="w">   </span><span class="p">|</span>
<span class="p">|</span><span class="w">   </span>+---------------+-----------------------+----------------+<span class="w">   </span><span class="p">|</span>
<span class="p">|</span><span class="w">                   </span><span class="p">|</span><span class="w">                       </span><span class="p">|</span><span class="w">                    </span><span class="p">|</span>
<span class="p">|</span><span class="w">                   </span><span class="p">|</span><span class="w">                       </span><span class="p">|</span><span class="w">                    </span><span class="p">|</span>
<span class="p">|</span><span class="w">                   </span><span class="p">|</span><span class="w">                       </span><span class="p">|</span><span class="w">                    </span><span class="p">|</span>
<span class="p">|</span><span class="w">                   </span>+-----+<span class="w">        </span>+--------+<span class="w">                    </span><span class="p">|</span>
<span class="p">|</span><span class="w">                         </span><span class="p">|</span><span class="w">        </span><span class="p">|</span><span class="w">                             </span><span class="p">|</span>
<span class="p">|</span><span class="w">         </span>+---------------v--------v---------+<span class="w">                   </span><span class="p">|</span>
<span class="p">|</span><span class="w">         </span><span class="p">|</span><span class="w">  </span>def<span class="w"> </span>predict<span class="o">(</span>arr,<span class="w"> </span>annotations<span class="o">)</span>:<span class="w">  </span><span class="p">|</span><span class="w">                   </span><span class="p">|</span>
<span class="p">|</span><span class="w">         </span>+----------------------------------+<span class="w">                   </span><span class="p">|</span>
<span class="p">|</span><span class="w">                                                                </span><span class="p">|</span>
+----------------------------------------------------------------+
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell56">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>IO Descriptor that represents a Multipart request/response.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#bentoml.io.Multipart" title="bentoml.io.Multipart"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Multipart</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Multipart.from_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Multipart.</span></span><span class="sig-name descname"><span class="pre">from_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Multipart</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#dict" target="_blank"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/multipart.html#Multipart.from_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Multipart.from_proto" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Multipart.from_http_request">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Multipart.</span></span><span class="sig-name descname"><span class="pre">from_http_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Request</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#dict" target="_blank"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/multipart.html#Multipart.from_http_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Multipart.from_http_request" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Multipart.to_proto">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Multipart.</span></span><span class="sig-name descname"><span class="pre">to_proto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#dict" target="_blank"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Multipart</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/multipart.html#Multipart.to_proto"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Multipart.to_proto" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bentoml.io.Multipart.to_http_response">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Multipart.</span></span><span class="sig-name descname"><span class="pre">to_http_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#dict" target="_blank"><span class="pre">dict</span></a><span class="p"><span class="pre">[</span></span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/stdtypes.html#str" target="_blank"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">t.Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Context</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="hxr-hoverxref hxr-tooltip reference external tooltipstered" href="https://docs.python.org/3/library/constants.html#None" target="_blank"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">→</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/multipart.html#Multipart.to_http_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.Multipart.to_http_response" title="Permalink to this definition">#</a></dt>
<dd></dd></dl>

</section>
<section id="custom-iodescriptor">
<h2>Custom IODescriptor<a class="headerlink" href="#custom-iodescriptor" title="Permalink to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The IODescriptor base class can be extended to support custom data format for your
APIs, if the built-in descriptors does not fit your needs.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="bentoml.io.IODescriptor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bentoml.io.</span></span><span class="sig-name descname"><span class="pre">IODescriptor</span></span><a class="reference internal" href="../_modules/bentoml/_internal/io_descriptors/base.html#IODescriptor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#bentoml.io.IODescriptor" title="Permalink to this definition">#</a></dt>
<dd><p>IODescriptor describes the input/output data format of an InferenceAPI defined
in a <code class="code docutils literal notranslate"><span class="pre">bentoml.Service</span></code>. This is an abstract base class for extending new HTTP
endpoint IO descriptor types in BentoServer.</p>
</dd></dl>

</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="metrics.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Metrics API</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="stores.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Bento Store APIs</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright © 2022-2023, bentoml.com
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/bentoml/bentoml" aria-label="GitHub"> 🍱 </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">API IO Descriptors</a><ul>
<li><a class="reference internal" href="#numpy-ndarray">NumPy <code class="docutils literal notranslate"><span class="pre">ndarray</span></code></a><ul>
<li><a class="reference internal" href="#bentoml.io.NumpyNdarray"><code class="docutils literal notranslate"><span class="pre">NumpyNdarray</span></code></a><ul>
<li><a class="reference internal" href="#bentoml.io.NumpyNdarray.from_sample"><code class="docutils literal notranslate"><span class="pre">NumpyNdarray.from_sample()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.NumpyNdarray.from_proto"><code class="docutils literal notranslate"><span class="pre">NumpyNdarray.from_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.NumpyNdarray.from_http_request"><code class="docutils literal notranslate"><span class="pre">NumpyNdarray.from_http_request()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.NumpyNdarray.to_proto"><code class="docutils literal notranslate"><span class="pre">NumpyNdarray.to_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.NumpyNdarray.to_http_response"><code class="docutils literal notranslate"><span class="pre">NumpyNdarray.to_http_response()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#tabular-data-with-pandas">Tabular Data with Pandas</a><ul>
<li><a class="reference internal" href="#bentoml.io.PandasDataFrame"><code class="docutils literal notranslate"><span class="pre">PandasDataFrame</span></code></a><ul>
<li><a class="reference internal" href="#bentoml.io.PandasDataFrame.from_sample"><code class="docutils literal notranslate"><span class="pre">PandasDataFrame.from_sample()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.PandasDataFrame.from_proto"><code class="docutils literal notranslate"><span class="pre">PandasDataFrame.from_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.PandasDataFrame.from_http_request"><code class="docutils literal notranslate"><span class="pre">PandasDataFrame.from_http_request()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.PandasDataFrame.to_proto"><code class="docutils literal notranslate"><span class="pre">PandasDataFrame.to_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.PandasDataFrame.to_http_response"><code class="docutils literal notranslate"><span class="pre">PandasDataFrame.to_http_response()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#bentoml.io.PandasSeries"><code class="docutils literal notranslate"><span class="pre">PandasSeries</span></code></a><ul>
<li><a class="reference internal" href="#bentoml.io.PandasSeries.from_sample"><code class="docutils literal notranslate"><span class="pre">PandasSeries.from_sample()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.PandasSeries.from_proto"><code class="docutils literal notranslate"><span class="pre">PandasSeries.from_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.PandasSeries.from_http_request"><code class="docutils literal notranslate"><span class="pre">PandasSeries.from_http_request()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.PandasSeries.to_proto"><code class="docutils literal notranslate"><span class="pre">PandasSeries.to_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.PandasSeries.to_http_response"><code class="docutils literal notranslate"><span class="pre">PandasSeries.to_http_response()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#structured-data-with-json">Structured Data with JSON</a><ul>
<li><a class="reference internal" href="#bentoml.io.JSON"><code class="docutils literal notranslate"><span class="pre">JSON</span></code></a><ul>
<li><a class="reference internal" href="#bentoml.io.JSON.from_sample"><code class="docutils literal notranslate"><span class="pre">JSON.from_sample()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.JSON.from_proto"><code class="docutils literal notranslate"><span class="pre">JSON.from_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.JSON.from_http_request"><code class="docutils literal notranslate"><span class="pre">JSON.from_http_request()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.JSON.to_proto"><code class="docutils literal notranslate"><span class="pre">JSON.to_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.JSON.to_http_response"><code class="docutils literal notranslate"><span class="pre">JSON.to_http_response()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#texts">Texts</a><ul>
<li><a class="reference internal" href="#bentoml.io.Text"><code class="docutils literal notranslate"><span class="pre">Text</span></code></a><ul>
<li><a class="reference internal" href="#bentoml.io.Text.from_sample"><code class="docutils literal notranslate"><span class="pre">Text.from_sample()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.Text.from_proto"><code class="docutils literal notranslate"><span class="pre">Text.from_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.Text.from_http_request"><code class="docutils literal notranslate"><span class="pre">Text.from_http_request()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.Text.to_proto"><code class="docutils literal notranslate"><span class="pre">Text.to_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.Text.to_http_response"><code class="docutils literal notranslate"><span class="pre">Text.to_http_response()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#images">Images</a><ul>
<li><a class="reference internal" href="#bentoml.io.Image"><code class="docutils literal notranslate"><span class="pre">Image</span></code></a><ul>
<li><a class="reference internal" href="#bentoml.io.Image.from_sample"><code class="docutils literal notranslate"><span class="pre">Image.from_sample()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.Image.from_proto"><code class="docutils literal notranslate"><span class="pre">Image.from_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.Image.from_http_request"><code class="docutils literal notranslate"><span class="pre">Image.from_http_request()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.Image.to_proto"><code class="docutils literal notranslate"><span class="pre">Image.to_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.Image.to_http_response"><code class="docutils literal notranslate"><span class="pre">Image.to_http_response()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#files">Files</a><ul>
<li><a class="reference internal" href="#bentoml.io.File"><code class="docutils literal notranslate"><span class="pre">File</span></code></a><ul>
<li><a class="reference internal" href="#bentoml.io.File.from_sample"><code class="docutils literal notranslate"><span class="pre">File.from_sample()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.File.from_proto"><code class="docutils literal notranslate"><span class="pre">File.from_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.File.from_http_request"><code class="docutils literal notranslate"><span class="pre">File.from_http_request()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.File.to_proto"><code class="docutils literal notranslate"><span class="pre">File.to_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.File.to_http_response"><code class="docutils literal notranslate"><span class="pre">File.to_http_response()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#multipart-payloads">Multipart Payloads</a><ul>
<li><a class="reference internal" href="#bentoml.io.Multipart"><code class="docutils literal notranslate"><span class="pre">Multipart</span></code></a><ul>
<li><a class="reference internal" href="#bentoml.io.Multipart.from_proto"><code class="docutils literal notranslate"><span class="pre">Multipart.from_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.Multipart.from_http_request"><code class="docutils literal notranslate"><span class="pre">Multipart.from_http_request()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.Multipart.to_proto"><code class="docutils literal notranslate"><span class="pre">Multipart.to_proto()</span></code></a></li>
<li><a class="reference internal" href="#bentoml.io.Multipart.to_http_response"><code class="docutils literal notranslate"><span class="pre">Multipart.to_http_response()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#custom-iodescriptor">Custom IODescriptor</a><ul>
<li><a class="reference internal" href="#bentoml.io.IODescriptor"><code class="docutils literal notranslate"><span class="pre">IODescriptor</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/tabs.js"></script>
    <script src="../_static/js/hoverxref.js"></script>
    <script src="../_static/js/tooltipster.bundle.min.js"></script>
    <script src="../_static/js/micromodal.min.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script async="async" src="/_/static/javascript/readthedocs-doc-embed.js"></script>
    <script src="../_static/js/custom.js"></script>
    

  <div class="modal micromodal-slide rst-content" id="micromodal" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close="">
      <div class="modal__container" role="dialog" aria-modal="true" aria-labelledby="micromodal-title">
        <header class="modal__header">
          <h1 class="modal__title" id="micromodal-title"></h1>
          <button class="modal__close" aria-label="Close modal" data-micromodal-close=""></button>
        </header>
        <hr>
        <main class="modal__content" id="micromodal-content"></main>
        <footer class="modal__footer">
          <button class="modal__btn" data-micromodal-close="" aria-label="Close this dialog window">Close</button>
        </footer>
      </div>
    </div>
  </div>
<div id="PapercupsChatWidget"></div></body></html>